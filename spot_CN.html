


<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>spot api</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}


     
      .header{
        padding: 0 26px;
        width: 100%;
        -webkit-box-sizing: border-box;
                box-sizing: border-box;
        height: 60px;
        background: #222;
        position: fixed;
        display: flex;
        z-index: 100;
        top: 0;
        align-items: center;
        justify-content: space-between;
      }
      .header-left{
        display: flex;
        align-items: center;
      }
      .header .logo{
        width: 212px;
        height: 32px;
      }
      .nav li{
        display:inline-block;
        color:#B0B8DB;
        padding: 0 20px;
        font-size: 16px;
      }
      .nav li a{
        height: 60px;
        line-height: 60px;
        display: block;
        color:#B0B8DB;
        text-decoration: none;
        border-bottom: 2px solid transparent;
        -webkit-box-sizing: border-box;
                box-sizing: border-box;
        cursor: pointer;
      }
      .nav li a.current{
        color:#fff;
        border-bottom: 2px solid #F0B90B;
      
      }
      .nav li a span{
        display:none;
      }
      .language{
        width: 78px;
        height: 26px;
        line-height: 26px;
        text-align: center;
        border: 1px solid #383F66;
        color: #F0B90B;
        text-decoration: none;
        border-radius: 3px;
        -webkit-transition: all 300ms;
        transition: all 300ms;
        cursor: pointer;
      }
      .language span{
        display:none;
      }
      .toc-wrapper,.page-wrapper{
        margin-top: 60px;
      }
      .toc-list-h1 li a{
        height: 48px;
        line-height: 48px;
      }

      

    </style>
    <link href="stylesheets/screen-a1ce949a.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-bccf8c07.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-c5541673.js"></script>
  </head>

  <body class="spot_CN" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="Navbar" />
      </span>
    </a>

           
    <div class="header">
      <div class="header-left">
      <img src="images/jex-d68ad4f4.png" class="logo" alt="Jex" />
        <ul class="nav" id="data-nav">
          <li><a href="spot_CN.html"><span class="english">Spot</span><span class="chinese">币币</span></a></li>
          <li><a href="option_CN.html"><span class="english">Options</span><span class="chinese">期权</span></a></li>
          <li><a href="future_CN.html"><span class="english">Futures</span><span class="chinese">合约</span></a></li>
          <li><a href="testnet_CN.html"><span class="english">TestNet API</span><span class="chinese">TestNet API</span></a></li>
        </ul>
      </div>
      <a class="language" id="language"><span class="english">English</span><span class="chinese">简体中文</span></a>
    </div>

    <div class="toc-wrapper">
    
  
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#185368440e" class="toc-h1 toc-link" data-title="更新日志">更新日志</a>
          </li>
          <li>
            <a href="#b122f813d5" class="toc-h1 toc-link" data-title="基本信息">基本信息</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#api" class="toc-h2 toc-link" data-title="api 基本信息">api 基本信息</a>
                  </li>
                  <li>
                    <a href="#12907e94be" class="toc-h2 toc-link" data-title="访问限制">访问限制</a>
                  </li>
                  <li>
                    <a href="#a573a19f9c" class="toc-h2 toc-link" data-title="接口鉴权类型">接口鉴权类型</a>
                  </li>
                  <li>
                    <a href="#trade-user_data" class="toc-h2 toc-link" data-title="需要签名的接口 (TRADE 与 USER_DATA)">需要签名的接口 (TRADE 与 USER_DATA)</a>
                  </li>
                  <li>
                    <a href="#api-2" class="toc-h2 toc-link" data-title="公开API参数">公开API参数</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#ed913b7357" class="toc-h1 toc-link" data-title="行情接口">行情接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#16073bbcf1" class="toc-h2 toc-link" data-title="测试服务器连通性">测试服务器连通性</a>
                  </li>
                  <li>
                    <a href="#3f1907847c" class="toc-h2 toc-link" data-title="获取服务器时间">获取服务器时间</a>
                  </li>
                  <li>
                    <a href="#0c7e3c679b" class="toc-h2 toc-link" data-title="交易对信息">交易对信息</a>
                  </li>
                  <li>
                    <a href="#9f9e16c178" class="toc-h2 toc-link" data-title="币币深度信息">币币深度信息</a>
                  </li>
                  <li>
                    <a href="#d4377992ee" class="toc-h2 toc-link" data-title="币币近期成交">币币近期成交</a>
                  </li>
                  <li>
                    <a href="#market_data" class="toc-h2 toc-link" data-title="查询币币历史成交(MARKET_DATA)">查询币币历史成交(MARKET_DATA)</a>
                  </li>
                  <li>
                    <a href="#k" class="toc-h2 toc-link" data-title="币币K线数据">币币K线数据</a>
                  </li>
                  <li>
                    <a href="#501b2517c7" class="toc-h2 toc-link" data-title="币币当前平均价格">币币当前平均价格</a>
                  </li>
                  <li>
                    <a href="#24hr" class="toc-h2 toc-link" data-title="币币24hr价格变动情况">币币24hr价格变动情况</a>
                  </li>
                  <li>
                    <a href="#96100f5db0" class="toc-h2 toc-link" data-title="币币最新价格接口">币币最新价格接口</a>
                  </li>
                  <li>
                    <a href="#4761d53e09" class="toc-h2 toc-link" data-title="币币最优挂单接口">币币最优挂单接口</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#1ab2aacc04" class="toc-h1 toc-link" data-title="交易接口">交易接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#trade" class="toc-h2 toc-link" data-title="币币下单  (TRADE)">币币下单  (TRADE)</a>
                  </li>
                  <li>
                    <a href="#trade-2" class="toc-h2 toc-link" data-title="币币测试下单接口 (TRADE)">币币测试下单接口 (TRADE)</a>
                  </li>
                  <li>
                    <a href="#user_data" class="toc-h2 toc-link" data-title="币币查询订单 (USER_DATA)">币币查询订单 (USER_DATA)</a>
                  </li>
                  <li>
                    <a href="#trade-3" class="toc-h2 toc-link" data-title="币币撤销订单 (TRADE)">币币撤销订单 (TRADE)</a>
                  </li>
                  <li>
                    <a href="#user_data-2" class="toc-h2 toc-link" data-title="查看账户当前币币挂单 (USER_DATA)">查看账户当前币币挂单 (USER_DATA)</a>
                  </li>
                  <li>
                    <a href="#user_data-3" class="toc-h2 toc-link" data-title="账户币币历史委托 (USER_DATA)">账户币币历史委托 (USER_DATA)</a>
                  </li>
                  <li>
                    <a href="#user_data-4" class="toc-h2 toc-link" data-title="账户资产信息(USER_DATA)">账户资产信息(USER_DATA)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#d71e480bcb" class="toc-h1 toc-link" data-title="用户数据流订阅接口">用户数据流订阅接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#user_stream" class="toc-h2 toc-link" data-title="新建用户数据流 (USER_STREAM)">新建用户数据流 (USER_STREAM)</a>
                  </li>
                  <li>
                    <a href="#keepalive-user_stream" class="toc-h2 toc-link" data-title="Keepalive (USER_STREAM)">Keepalive (USER_STREAM)</a>
                  </li>
                  <li>
                    <a href="#user_stream-2" class="toc-h2 toc-link" data-title="关闭用户数据流 (USER_STREAM)">关闭用户数据流 (USER_STREAM)</a>
                  </li>
                  <li>
                    <a href="#f290514d1a" class="toc-h2 toc-link" data-title="账户更新">账户更新</a>
                  </li>
                  <li>
                    <a href="#99bdca2f1a" class="toc-h2 toc-link" data-title="订单交易更新">订单交易更新</a>
                  </li>
                  <li>
                    <a href="#14b9dadea2" class="toc-h2 toc-link" data-title="合约持仓">合约持仓</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket" class="toc-h1 toc-link" data-title="Websocket 行情推送">Websocket 行情推送</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#websock" class="toc-h2 toc-link" data-title="websock基本信息">websock基本信息</a>
                  </li>
                  <li>
                    <a href="#websocket-2" class="toc-h2 toc-link" data-title="Websocket 最近成交">Websocket 最近成交</a>
                  </li>
                  <li>
                    <a href="#websocket-k" class="toc-h2 toc-link" data-title="Websocket K线">Websocket K线</a>
                  </li>
                  <li>
                    <a href="#symbol-ticker" class="toc-h2 toc-link" data-title="按Symbol的精简Ticker">按Symbol的精简Ticker</a>
                  </li>
                  <li>
                    <a href="#symbol-ticker-2" class="toc-h2 toc-link" data-title="全市场所有Symbol的精简Ticker">全市场所有Symbol的精简Ticker</a>
                  </li>
                  <li>
                    <a href="#symbol-ticker-3" class="toc-h2 toc-link" data-title="按Symbol的完整Ticker">按Symbol的完整Ticker</a>
                  </li>
                  <li>
                    <a href="#ticker" class="toc-h2 toc-link" data-title="全市场所有交易对的完整Ticker">全市场所有交易对的完整Ticker</a>
                  </li>
                  <li>
                    <a href="#6ae7c2b506" class="toc-h2 toc-link" data-title="有限档深度信息">有限档深度信息</a>
                  </li>
                  <li>
                    <a href="#stream" class="toc-h2 toc-link" data-title="增量深度信息stream">增量深度信息stream</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#1481b053b9" class="toc-h1 toc-link" data-title="错误代码汇总">错误代码汇总</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#10xx" class="toc-h2 toc-link" data-title="10xx - 服务器或网络问题">10xx - 服务器或网络问题</a>
                  </li>
                  <li>
                    <a href="#11xx" class="toc-h2 toc-link" data-title="11xx - 请求内容中的问题">11xx - 请求内容中的问题</a>
                  </li>
                  <li>
                    <a href="#1010" class="toc-h2 toc-link" data-title="-1010 收到了错误消息">-1010 收到了错误消息</a>
                  </li>
                  <li>
                    <a href="#8xxx" class="toc-h2 toc-link" data-title="-8xxx 提现错误">-8xxx 提现错误</a>
                  </li>
                  <li>
                    <a href="#9xxx" class="toc-h2 toc-link" data-title="-9xxx 订单未能通过过滤器">-9xxx 订单未能通过过滤器</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://testnet.jexzh.com/cn/contract'>Binance jex Futures</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='185368440e'>更新日志</h1>
<p><strong>2019-12-23</strong></p>

<p><strong>Rest API</strong></p>

<ul>
<li>增加批量查询的接口，接口为 <code>GET /api/v1/contract/batchOrder (HMAC SHA256)</code>|批量查询 .</li>
</ul>

<p><strong>2019-10-28</strong></p>

<p><strong>websocket</strong></p>

<ul>
<li>优化websocket，让连接更稳定</li>
<li>推荐使用组合streams方式进行连接，每个组合streams可最多订阅10个stream</li>
</ul>

<p><strong>2019-10-22</strong></p>

<p><strong>Rest API</strong></p>

<ul>
<li>合约下单增加新的 type 类型: <code>stopLimit</code>,<code>profitLimit</code></li>
<li>用户预设止盈止损指令（<code>stopLimit</code>,<code>profitLimit</code>），提前设置 触发价格（<code>triggerPrice</code>）、委托价格(<code>price</code>)、委托数量(<code>quantity</code>)。当对应 “指标” 满足用户设置的 触发价（<code>triggerPrice</code>）格 条件时，止盈止损订单将被触发，系统将按照用户设置的 委托价格(<code>price</code>)，委托数量(<code>quantity</code>) 提交一笔限价委托订单。</li>
</ul>
<h4 id='6141ad5ff1'>条件单的触发价格必须:</h4>
<ul>
<li><p>止盈</p>

<ul>
<li>多仓： 对未来价格看涨，设置触发价格高于最新价格（或标记价格、指数），可以设置卖出止盈指令；</li>
<li>空仓： 对未来价格看跌，设置触发价格低于最新价格（或标记价格、指数），可以设置买入止盈指令；</li>
</ul></li>
<li><p>止损</p>

<ul>
<li>多仓： 对未来价格看跌，设置触发价格低于最新价格（或标记价格、指数），可以设置卖出止损指令；</li>
<li>空仓： 对未来价格看涨，设置触发价格高于最新价格（或标记价格、指数），可以设置买入止损指令；</li>
</ul></li>
<li><p>当触发价格 = 最新价格（或标记价格、指数），或者无持仓时候，不可发起止盈止损委托指令；</p></li>
</ul>

<p><strong>2019-10-15</strong></p>

<p><strong>文档更新</strong>
* 增加文档更新的日志
* 增加常见问题的更新</p>

<p><strong>2019-10-14</strong></p>

<p><strong>Rest API</strong>
* 增加委托数量限制 每个账户每个合约最多 200 笔未执行普通交易委托数量
* 每个账户每个合约最多 10 笔止损或者止盈交易委托数量;
* 当发出超过这些上限的新交易委托时，该交易将被拒绝，并显示“has reach max order number 200或者10</p>

<p><strong>2019-10-11</strong></p>

<p><strong>Rest API</strong>
* 增加批量撤单的接口，接口为 <code>DELETE /api/v1/contract/batchOrder</code>|批量撤单
* 增加获取历史成交信息，接口为 <code>GET /api/v1/contract/userHistoricalTrades</code>获取历史成交信息 </p>

<p><strong>2019-09-27</strong></p>
<h4 id='rest-api'>Rest API</h4>
<ul>
<li>Headers <code>X-MBX-USED-WEIGHT-(intervalNum)(intervalLetter)</code> 会给你当前的请求权重 (intervalNum)(intervalLetter)频率的限制. 举个例子有分钟请求权重频率的设置, 在请求返回中含有  <code>X-MBX-USED-WEIGHT-1M </code>. 请求头header 中<code>X-MBX-USED-WEIGHT </code> 仍然会返回并且已经使用的次数。</li>
<li>Header 中 <code>X-MBX-ORDER-COUNT-(intervalNum)(intervalLetter)</code>在任何有效的订单上更新，并跟踪间隔的当前订单计数; 拒绝/不成功的订单不确保有<code>X-MBX-ORDER-COUNT-**</code> headers 在返回值中。

<ul>
<li>例子. <code>X-MBX-ORDER-COUNT-1S</code> 是 &quot;这秒有多少单&quot; and<code> X-MBX-ORDER-COUNT-1D</code> 是 ”这一天有多少单“</li>
</ul></li>
<li>消息头header上<code>Retry-After</code>会给出具体需要等待的时间,以秒为单位，直到解除封禁。</li>
</ul>
<h1 id='b122f813d5'>基本信息</h1><h2 id='api'>api 基本信息</h2>
<ul>
<li>本篇列出REST接口的baseurl  https://www.jex.com </li>
<li>所有接口的响应都是JSON格式</li>
<li>响应中如有数组，数组元素以时间升序排列，越早的数据越提前。</li>
<li>所有时间、时间戳均为UNIX时间，单位为毫秒</li>
<li>HTTP <code>4XX</code> 错误码用于指示错误的请求内容、行为、格式。</li>
<li>HTTP <code>429</code> 错误码表示警告访问频次超限，即将被封IP</li>
<li>HTTP <code>418</code> 表示收到429后继续访问，于是被封了。</li>
<li>HTTP <code>5XX</code> 错误码用于指示服务器侧的问题。 </li>
<li>HTTP <code>504</code> 表示API服务端已经向业务核心提交了请求但未能获取响应，特别需要注意的是<code>504</code>代码不代表请求失败，而是未知。很可能已经得到了执行，也有可能执行失败，需要做进一步确认。</li>
<li>每个接口都有可能抛出异常，异常响应格式如下：</li>
</ul>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"code"</span>: -1121,
  <span class="s2">"msg"</span>: <span class="s2">"Invalid symbol."</span>
<span class="o">}</span>
</code></pre>
<ul>
<li>具体的错误码及其解释在  <code>错误代码汇总</code></li>
<li><code>GET</code>方法的接口, 参数必须在<code>query string</code>中发送.</li>
<li><code>POST</code>, <code>PUT</code>, 和 <code>DELETE</code> 方法的接口, 参数可以在 <code>query string</code>中发送，也可以在 <code>request body</code>中发送(content type <code>application/x-www-form-urlencoded</code>。允许混合这两种方式发送参数。但如果同一个参数名在query string和request body中都有，query string中的会被优先采用。</li>
</ul>
<h2 id='12907e94be'>访问限制</h2>
<ul>
<li>在headers 以下字符代表下列意思:

<ul>
<li>SECOND =&gt; S</li>
<li>MINUTE =&gt; M</li>
<li>HOUR =&gt; H</li>
<li>DAY =&gt; D</li>
</ul></li>
<li>在 <code>/api/v1/exchangeInfo</code>接口中<code>rateLimits</code>数组里包含有REST接口(不限于本篇的REST接口)的访问限制。包括带权重的访问频次限制、下单速率限制、交易对精度。本篇<code>枚举定义</code>章节有限制类型的进一步说明。</li>
<li>违反上述任何一个访问限制都会收到HTTP 429，这是一个警告.</li>
<li>每一个接口均有一个相应的权重(weight)，有的接口根据参数不同可能拥有不同的权重。越消耗资源的接口权重就会越大。</li>
<li>当收到429告警时，调用者应当降低访问频率或者停止访问。</li>
<li><strong>收到429后仍然继续违反访问限制，会被封禁IP，并收到418错误码</strong></li>
<li>频繁违反限制，封禁时间会逐渐延长，<strong>从最短2分钟到最长3天</strong>.</li>
<li>Headers <code>X-MBX-USED-WEIGHT-(intervalNum)(intervalLetter)</code> 会给你当前的请求权重 (intervalNum)(intervalLetter)频率的限制. 举个例子有分钟请求权重频率的设置, 在请求返回中含有  <code>X-MBX-USED-WEIGHT-1M </code>. 请求头header 中<code>X-MBX-USED-WEIGHT </code> 仍然会返回并且已经使用的次数。</li>
<li>Header 中 <code>X-MBX-ORDER-COUNT-(intervalNum)(intervalLetter)</code>在任何有效的订单上更新，并跟踪间隔的当前订单计数; 拒绝/不成功的订单不确保有<code>X-MBX-ORDER-COUNT-**</code> headers 在返回值中。

<ul>
<li>例子. <code>X-MBX-ORDER-COUNT-1S</code> 是 &quot;这秒有多少单&quot; and<code> X-MBX-ORDER-COUNT-1D</code> 是 ”这一天有多少单“</li>
</ul></li>
<li>消息头header上<code>Retry-After</code>会给出具体需要等待的时间,以秒为单位，直到解除封禁。</li>
<li>错误的下单精度不允许下单</li>
</ul>

<p><strong>委托数量限制</strong></p>

<ul>
<li>为了保持有序的市场，jex 就每个账户的待交易委托数量设置上限。这些上限是： 这些限制是：</li>
<li>每个账户每个合约最多 200 笔未执行普通交易委托数量;</li>
<li>每个账户每个合约最多 10 笔止损或者止盈交易委托数量;</li>
<li>当发出超过这些上限的新交易委托时，该交易将被拒绝，并显示“has reach max order number 200或者10”。</li>
</ul>

<p><strong>其他说明</strong></p>

<ul>
<li>api的contract订单的sell数量统一为负数</li>
</ul>
<h2 id='a573a19f9c'>接口鉴权类型</h2>
<ul>
<li>每个接口都有自己的鉴权类型，鉴权类型决定了访问时应当进行何种鉴权</li>
<li>如果需要 API-key，应当在HTTP头中以<code>X-JEX-APIKEY</code>字段传递</li>
<li>API-key 与 API-secret 是大小写敏感的</li>
<li>可以在网页用户中心修改API-key 所具有的权限，例如读取账户信息、发送交易指令、发送提现指令</li>
</ul>

<table><thead>
<tr>
<th>鉴权类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>NONE</td>
<td>不需要鉴权的接口</td>
</tr>
<tr>
<td>TRADE</td>
<td>需要有效的API-KEY和签名</td>
</tr>
<tr>
<td>USER_DATA</td>
<td>需要有效的API-KEY和签名</td>
</tr>
<tr>
<td>USER_STREAM</td>
<td>需要有效的API-KEY</td>
</tr>
<tr>
<td>MARKET_DATA</td>
<td>需要有效的API-KEY</td>
</tr>
</tbody></table>
<h2 id='trade-user_data'>需要签名的接口 (TRADE 与 USER_DATA)</h2>
<ul>
<li>调用这些接口时，除了接口本身所需的参数外，还需要传递<code>signature</code>即签名参数。</li>
<li>签名使用<code>HMAC SHA256</code>算法. API-KEY所对应的API-Secret作为 <code>HMAC SHA256</code> 的密钥，其他所有参数作为<code>HMAC SHA256</code>的操作对象，得到的输出即为签名。</li>
<li>签名大小写不敏感。</li>
<li>当同时使用query string和request body时，<code>HMAC SHA256</code>的输入query string在前，request body在后</li>
<li>签名的参数一定按照接口文档顺序传参</li>
</ul>

<p><strong>时间同步安全</strong></p>

<ul>
<li>签名接口均需要传递<code>timestamp</code>参数, 其值应当是请求发送时刻的unix时间戳（毫秒）</li>
<li>服务器收到请求时会判断请求中的时间戳，如果是5000毫秒之前发出的，则请求会被认为无效。这个时间窗口值可以通过发送可选参数<code>recvWindow</code>来自定义。</li>
<li>另外，如果服务器计算得出客户端时间戳在服务器时间的‘未来’一秒以上，也会拒绝请求。</li>
<li>逻辑伪代码：</li>
</ul>
<pre class="highlight shell tab-shell"><code>  <span class="k">if</span> <span class="o">(</span>timestamp &lt; <span class="o">(</span>serverTime + 1000<span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="o">(</span>serverTime - timestamp<span class="o">)</span> &lt;<span class="o">=</span> recvWindow<span class="o">)</span> <span class="o">{</span>
    // process request
  <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
    // reject request
  <span class="o">}</span>
</code></pre>
<p><strong>关于交易时效性</strong> </p>

<p>互联网状况并不100%可靠，不可完全依赖,因此你的程序本地到服务器的时延会有抖动.
这是我们设置<code>recvWindow</code>的目的所在，如果你从事高频交易，对交易时效性有较高的要求，可以灵活设置recvWindow以达到你的要求。
<aside class="notice">
不推荐使用5秒以上的recvWindow
</aside></p>

<p><strong>POST /api/v1/spot/order</strong></p>

<p>以下是在linux bash环境下使用 echo openssl 和curl工具实现的一个调用接口下单的示例
apikey、secret仅供示范</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>apiKey</td>
<td>vmPUZE6mv9SD5VNHk4HlWFsOr6aKE2zvsw0MuIgwCIPy6utIco14y7Ju91duEh8A</td>
</tr>
<tr>
<td>secretKey</td>
<td>NhqPtmdSJYdKjVHjA7PZj4Mge3R5YNiP1e3UZjInClVN65XAbvqqM6A7H5fATj0j</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>参数</th>
<th>取值</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>LTCBTC</td>
</tr>
<tr>
<td>side</td>
<td>BUY</td>
</tr>
<tr>
<td>type</td>
<td>LIMIT</td>
</tr>
<tr>
<td>timeInForce</td>
<td>GTC</td>
</tr>
<tr>
<td>quantity</td>
<td>1</td>
</tr>
<tr>
<td>price</td>
<td>0.1</td>
</tr>
<tr>
<td>recvWindow</td>
<td>5000</td>
</tr>
<tr>
<td>timestamp</td>
<td>1499827319559</td>
</tr>
</tbody></table>

<p><strong>示例 1: 所有参数通过 query string 发送</strong></p>

<ul>
<li><strong>queryString:</strong> symbol=LTCBTC&amp;side=BUY&amp;type=LIMIT&amp;timeInForce=GTC&amp;quantity=1&amp;price=0.1&amp;recvWindow=5000&amp;timestamp=1499827319559</li>
<li><strong>HMAC SHA256 签名:</strong></li>
</ul>
<pre class="highlight shell tab-shell"><code><span class="gp">[linux]$ </span><span class="nb">echo</span> -n <span class="s2">"symbol=LTCBTC&amp;side=BUY&amp;type=LIMIT&amp;timeInForce=GTC&amp;quantity=1&amp;price=0.1&amp;recvWindow=5000&amp;timestamp=1499827319559"</span> | openssl dgst -sha256 -hmac <span class="s2">"NhqPtmdSJYdKjVHjA7PZj4Mge3R5YNiP1e3UZjInClVN65XAbvqqM6A7H5fATj0j"</span>
<span class="o">(</span>stdin<span class="o">)=</span> c8db56825ae71d6d79447849e617115f4a920fa2acdcab2b053c4b2838bd6b71
</code></pre>
<ul>
<li><strong>curl 调用:</strong></li>
</ul>
<pre class="highlight shell tab-shell"><code><span class="o">(</span>HMAC SHA256<span class="o">)</span>
<span class="gp">[linux]$ </span>curl -H <span class="s2">"X-JEX-APIKEY: vmPUZE6mv9SD5VNHk4HlWFsOr6aKE2zvsw0MuIgwCIPy6utIco14y7Ju91duEh8A"</span> -X POST <span class="s1">'https://www.jex.com/api/v1/order?symbol=LTCBTC&amp;side=BUY&amp;type=LIMIT&amp;timeInForce=GTC&amp;quantity=1&amp;price=0.1&amp;recvWindow=5000&amp;timestamp=1499827319559&amp;signature=c8db56825ae71d6d79447849e617115f4a920fa2acdcab2b053c4b2838bd6b71'</span>
</code></pre>
<p><strong>示例 2: 所有参数通过 request body 发送</strong></p>

<ul>
<li><strong>requestBody:</strong> symbol=LTCBTC&amp;side=BUY&amp;type=LIMIT&amp;timeInForce=GTC&amp;quantity=1&amp;price=0.1&amp;recvWindow=5000&amp;timestamp=1499827319559</li>
<li><strong>HMAC SHA256 签名:</strong></li>
</ul>
<pre class="highlight shell tab-shell"><code><span class="gp">[linux]$ </span><span class="nb">echo</span> -n <span class="s2">"symbol=LTCBTC&amp;side=BUY&amp;type=LIMIT&amp;timeInForce=GTC&amp;quantity=1&amp;price=0.1&amp;recvWindow=5000&amp;timestamp=1499827319559"</span> | openssl dgst -sha256 -hmac <span class="s2">"NhqPtmdSJYdKjVHjA7PZj4Mge3R5YNiP1e3UZjInClVN65XAbvqqM6A7H5fATj0j"</span>
<span class="o">(</span>stdin<span class="o">)=</span> c8db56825ae71d6d79447849e617115f4a920fa2acdcab2b053c4b2838bd6b71
</code></pre>
<blockquote>
<ul>
<li><strong>curl 调用:</strong></li>
</ul>
</blockquote>
<pre class="highlight shell tab-shell"><code>  <span class="o">(</span>HMAC SHA256<span class="o">)</span>
  <span class="o">[</span>linux]<span class="nv">$ </span>curl -H <span class="s2">"X-JEX-APIKEY: vmPUZE6mv9SD5VNHk4HlWFsOr6aKE2zvsw0MuIgwCIPy6utIco14y7Ju91duEh8A"</span> -X POST <span class="s1">'https://www.jex.com/api/v1/order'</span> -d <span class="s1">'symbol=LTCBTC&amp;side=BUY&amp;type=LIMIT&amp;timeInForce=GTC&amp;quantity=1&amp;price=0.1&amp;recvWindow=5000&amp;timestamp=1499827319559&amp;signature=c8db56825ae71d6d79447849e617115f4a920fa2acdcab2b053c4b2838bd6b71'</span>
</code></pre>
<p><strong>示例 3: 混合使用 query string 与 request body</strong></p>

<ul>
<li><strong>queryString:</strong> symbol=LTCBTC&amp;side=BUY&amp;type=LIMIT&amp;timeInForce=GTC</li>
<li><strong>requestBody:</strong> quantity=1&amp;price=0.1&amp;recvWindow=5000&amp;timestamp=1499827319559</li>
<li><strong>HMAC SHA256 签名:</strong></li>
</ul>
<pre class="highlight shell tab-shell"><code>  <span class="o">[</span>linux]<span class="nv">$ </span><span class="nb">echo</span> -n <span class="s2">"symbol=LTCBTC&amp;side=BUY&amp;type=LIMIT&amp;timeInForce=GTCquantity=1&amp;price=0.1&amp;recvWindow=5000&amp;timestamp=1499827319559"</span> | openssl dgst -sha256 -hmac <span class="s2">"NhqPtmdSJYdKjVHjA7PZj4Mge3R5YNiP1e3UZjInClVN65XAbvqqM6A7H5fATj0j"</span>
  <span class="o">(</span>stdin<span class="o">)=</span> 0fd168b8ddb4876a0358a8d14d0c9f3da0e9b20c5d52b2a00fcf7d1c602f9a77
</code></pre>
<ul>
<li><strong>curl 调用:</strong></li>
</ul>
<pre class="highlight shell tab-shell"><code>  <span class="o">(</span>HMAC SHA256<span class="o">)</span>
  <span class="o">[</span>linux]<span class="nv">$ </span>curl -H <span class="s2">"X-JEX-APIKEY: vmPUZE6mv9SD5VNHk4HlWFsOr6aKE2zvsw0MuIgwCIPy6utIco14y7Ju91duEh8A"</span> -X POST <span class="s1">'https://www.jex.com/api/v1/order?symbol=LTCBTC&amp;side=BUY&amp;type=LIMIT&amp;timeInForce=GTC'</span> -d <span class="s1">'quantity=1&amp;price=0.1&amp;recvWindow=5000&amp;timestamp=1499827319559&amp;signature=0fd168b8ddb4876a0358a8d14d0c9f3da0e9b20c5d52b2a00fcf7d1c602f9a77'</span>
</code></pre>
<p>Note that the signature is different in example 3.
There is no &amp; between &quot;GTC&quot; and &quot;quantity=1&quot;.</p>
<h2 id='api-2'>公开API参数</h2>
<p><strong>术语解释</strong></p>

<ul>
<li><code>base asset</code> 指一个交易对的交易对象，即写在靠前部分的资产名</li>
<li><code>quote asset</code> 指一个交易对的定价资产，即写在靠后部分资产名</li>
</ul>

<p><strong>枚举定义</strong></p>

<p><strong>交易对状态:</strong></p>

<ul>
<li>PRE_TRADING 盘前交易</li>
<li>TRADING 正常交易中</li>
<li>POST_TRADING 盘后交易</li>
<li>END_OF_DAY 收盘</li>
<li>HALT 交易终止(该交易对已下线)</li>
<li>AUCTION_MATCH 集合竞价</li>
<li>BREAK 交易暂停</li>
</ul>

<p><strong>交易对类型:</strong></p>

<ul>
<li>SPOT 币币</li>
<li>OPTION 期权</li>
<li>CONTRACT 合约</li>
</ul>

<p><strong>币币和期权订单状态:</strong></p>

<ul>
<li>NEW 新建订单</li>
<li>PARTIALLY_FILLED  部分成交</li>
<li>FILLED  全部成交</li>
<li>CANCELED  已撤销</li>
<li>PENDING_CANCEL 正在撤销中(目前不会遇到这个状态)</li>
<li>FAIL 下单失败</li>
<li>CANCLEFILLED 撤单完成</li>
<li>REJECTED 订单被拒绝 (目前不会遇到这个状态)</li>
<li>EXPIRED 订单过期(目前不会遇到这个状态)</li>
</ul>

<p><strong>合约的订单状态:</strong></p>

<ul>
<li>ENTRUSTED 下单完成</li>
<li>ENTRUSTING 下单中</li>
<li>FAIL 下单失败</li>
<li>PARTFILLED 部分成交</li>
<li>FILLED 订单完成</li>
<li>CANCEL 订单取消</li>
</ul>

<p><strong>订单种类:</strong></p>

<ul>
<li>LIMIT 限价单</li>
<li>MARKET  市价单</li>
<li>STOPLIMIT 限价止损</li>
<li>STOPMARKET 市价止损</li>
<li>PROFITLIMIT 限价止盈</li>
<li>PROFITMARKET 市价止盈单</li>
</ul>

<p><strong>订单方向:</strong></p>

<ul>
<li>BUY 买入</li>
<li>SELL 卖出</li>
</ul>

<p><strong>Time in force:</strong></p>

<ul>
<li>GTC - Good Till Cancel 成交为止</li>
<li>IOC - Immediate or Cancel 无法立即成交(吃单)的部分就撤销</li>
<li>FOK - Fill or Kill 无法全部立即成交就撤销</li>
</ul>

<p><strong>K线间隔:</strong></p>

<p>m -&gt; 分钟; h -&gt; 小时; d -&gt; 天; w -&gt; 周; M -&gt; 月</p>

<ul>
<li>1m</li>
<li>3m</li>
<li>5m</li>
<li>15m</li>
<li>30m</li>
<li>1h</li>
<li>2h</li>
<li>4h</li>
<li>6h</li>
<li>12h</li>
<li>1d</li>
<li>1w</li>
</ul>

<p><strong>限制种类 (rateLimitType)</strong></p>

<ul>
<li>REQUESTS_WEIGHT  单位时间请求权重之和上限</li>
<li>ORDERS    单位时间下单(撤单)次数上限</li>
<li>RAW_REQUESTS  单位时间请求次数上限</li>
</ul>

<p><strong>限制间隔</strong></p>

<ul>
<li>SECOND</li>
<li>MINUTE</li>
<li>DAY</li>
</ul>

<p><strong>合约账单接口(type)</strong></p>

<ul>
<li>transfer       资金划转</li>
<li>fee            手续费</li>
<li>funding        资金费用</li>
<li>closPosition   平仓</li>
<li>liquidation    爆仓平仓</li>
<li>adl            强减平仓</li>
<li>autoMargin     自动减仓</li>
<li>positionSize   持仓变化</li>
</ul>
<h1 id='ed913b7357'>行情接口</h1><h2 id='16073bbcf1'>测试服务器连通性</h2>
<p><code>GET /api/v1/ping</code></p>

<p>测试能否联通</p>

<p><strong>权重:</strong>
1</p>

<p><strong>参数:</strong>
NONE</p>

<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{}</span>
</code></pre><h2 id='3f1907847c'>获取服务器时间</h2>
<p><code>GET /api/v1/time</code></p>

<p>获取服务器时间</p>

<p><strong>权重:</strong>
1</p>

<p><strong>参数:</strong>
NONE</p>

<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code>
<span class="p">{</span>
  <span class="s2">"serverTime"</span><span class="p">:</span> <span class="mi">1499827319595</span>
<span class="p">}</span>
</code></pre><h2 id='0c7e3c679b'>交易对信息</h2>
<p><code>GET /api/v1/exchangeInfo</code></p>

<p>获取此时的限制信息和交易对信息</p>

<p><strong>权重:</strong>
1</p>

<p><strong>Parameters:</strong>
NONE</p>

<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"timezone"</span><span class="p">:</span> <span class="s2">"UTC"</span><span class="p">,</span>
  <span class="s2">"serverTime"</span><span class="p">:</span> <span class="mi">1551270414646</span><span class="p">,</span>
  <span class="s2">"rateLimits"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"rateLimitType"</span><span class="p">:</span> <span class="s2">"requestsWeight"</span><span class="p">,</span>
      <span class="s2">"interval"</span><span class="p">:</span> <span class="s2">"minute"</span><span class="p">,</span>
      <span class="s2">"intervalNum"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">"limit"</span><span class="p">:</span> <span class="mi">1200</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"rateLimitType"</span><span class="p">:</span> <span class="s2">"orders"</span><span class="p">,</span>
      <span class="s2">"interval"</span><span class="p">:</span> <span class="s2">"second"</span><span class="p">,</span>
      <span class="s2">"intervalNum"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">"limit"</span><span class="p">:</span> <span class="mi">10</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"rateLimitType"</span><span class="p">:</span> <span class="s2">"orders"</span><span class="p">,</span>
      <span class="s2">"interval"</span><span class="p">:</span> <span class="s2">"day"</span><span class="p">,</span>
      <span class="s2">"intervalNum"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">"limit"</span><span class="p">:</span> <span class="mi">100000</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"rateLimitType"</span><span class="p">:</span> <span class="s2">"rawRequests"</span><span class="p">,</span>
      <span class="s2">"interval"</span><span class="p">:</span> <span class="s2">"minute"</span><span class="p">,</span>
      <span class="s2">"intervalNum"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
      <span class="s2">"limit"</span><span class="p">:</span> <span class="mi">5000</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">"optionSymbols"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCCALLM"</span><span class="p">,</span>
      <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"TRADING"</span><span class="p">,</span>
      <span class="s2">"baseAsset"</span><span class="p">:</span> <span class="s2">"月BTC看涨0226"</span><span class="p">,</span>
      <span class="s2">"baseAssetPrecision"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">"quoteAsset"</span><span class="p">:</span> <span class="s2">"USDT"</span><span class="p">,</span>
      <span class="s2">"quotePrecision"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s2">"orderTypes"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">"LIMIT"</span>
      <span class="p">],</span>
      <span class="s2">"icebergAllowed"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="s2">"filters"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s2">"filterType"</span><span class="p">:</span> <span class="s2">"PRICE_FILTER"</span><span class="p">,</span>
          <span class="s2">"maxPrice"</span><span class="p">:</span> <span class="s2">"100000"</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="s2">"filterType"</span><span class="p">:</span> <span class="s2">"LOT_SIZE"</span><span class="p">,</span>
          <span class="s2">"minQty"</span><span class="p">:</span> <span class="s2">"0.00000000"</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">"contractSymbols"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSDT"</span><span class="p">,</span>
      <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"TRADING"</span><span class="p">,</span>
      <span class="s2">"baseAsset"</span><span class="p">:</span> <span class="s2">"btc"</span><span class="p">,</span>
      <span class="s2">"baseAssetPrecision"</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
      <span class="s2">"quoteAsset"</span><span class="p">:</span> <span class="s2">"usdt"</span><span class="p">,</span>
      <span class="s2">"quotePrecision"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">"orderTypes"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">"LIMIT"</span><span class="p">,</span>
        <span class="s2">"MARKET"</span>
      <span class="p">],</span>
      <span class="s2">"icebergAllowed"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="s2">"filters"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s2">"filterType"</span><span class="p">:</span> <span class="s2">"PRICE_FILTER"</span><span class="p">,</span>
          <span class="s2">"minPrice"</span><span class="p">:</span> <span class="s2">"0.00000001000000000000"</span><span class="p">,</span>
          <span class="s2">"maxPrice"</span><span class="p">:</span> <span class="s2">"1000000.00000000000000000000"</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="s2">"filterType"</span><span class="p">:</span> <span class="s2">"LOT_SIZE"</span><span class="p">,</span>
          <span class="s2">"minQty"</span><span class="p">:</span> <span class="s2">"0.00010000000000000000"</span><span class="p">,</span>
          <span class="s2">"maxQty"</span><span class="p">:</span> <span class="s2">"1000000.00000000000000000000"</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">"spotSymbols"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"DASHUSDT"</span><span class="p">,</span>
      <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"TRADING"</span><span class="p">,</span>
      <span class="s2">"baseAsset"</span><span class="p">:</span> <span class="s2">"DASH"</span><span class="p">,</span>
      <span class="s2">"baseAssetPrecision"</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
      <span class="s2">"quoteAsset"</span><span class="p">:</span> <span class="s2">"USDT"</span><span class="p">,</span>
      <span class="s2">"quotePrecision"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s2">"orderTypes"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">"LIMIT"</span>
      <span class="p">],</span>
      <span class="s2">"icebergAllowed"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="s2">"filters"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s2">"filterType"</span><span class="p">:</span> <span class="s2">"PRICE_FILTER"</span><span class="p">,</span>
          <span class="s2">"maxPrice"</span><span class="p">:</span> <span class="s2">"100000"</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="s2">"filterType"</span><span class="p">:</span> <span class="s2">"LOT_SIZE"</span><span class="p">,</span>
          <span class="s2">"minQty"</span><span class="p">:</span> <span class="s2">"1.00000000"</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre><h2 id='9f9e16c178'>币币深度信息</h2>
<p><code>GET /api/v1/spot/depth</code></p>

<p><strong>权重:1</strong></p>

<p><strong>参数:</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>limit</td>
<td>INT</td>
<td>NO</td>
<td>默认 60; 最大 60. 可选值:[5, 10, 20, 50, 60]</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"lastUpdateId"</span><span class="p">:</span> <span class="mi">1027024</span><span class="p">,</span>
  <span class="s2">"bids"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">[</span>
      <span class="s2">"4.00000000"</span><span class="p">,</span>     <span class="c1">// 价位</span>
      <span class="s2">"431.00000000"</span><span class="p">,</span>   <span class="c1">// 挂单量</span>
      <span class="p">[]</span>                <span class="c1">// 请忽略.</span>
    <span class="p">]</span>
  <span class="p">],</span>
  <span class="s2">"asks"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">[</span>
      <span class="s2">"4.00000200"</span><span class="p">,</span>
      <span class="s2">"12.00000000"</span><span class="p">,</span>
      <span class="p">[]</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre><h2 id='d4377992ee'>币币近期成交</h2>
<p><code>GET /api/v1/spot/trades</code>
获取近期成交</p>

<p><strong>权重:</strong>
1</p>

<p><strong>参数:</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>limit</td>
<td>INT</td>
<td>NO</td>
<td>Default 60; max 60.</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"81.230000000000000000"</span><span class="p">,</span>
    <span class="s2">"qty"</span><span class="p">:</span> <span class="s2">"0.001000000000000000"</span><span class="p">,</span>
    <span class="s2">"time"</span><span class="p">:</span> <span class="mi">0</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"81.230000000000000000"</span><span class="p">,</span>
    <span class="s2">"qty"</span><span class="p">:</span> <span class="s2">"0.000400000000000000"</span><span class="p">,</span>
    <span class="s2">"time"</span><span class="p">:</span> <span class="mi">0</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"81.240000000000000000"</span><span class="p">,</span>
    <span class="s2">"qty"</span><span class="p">:</span> <span class="s2">"0.001100000000000000"</span><span class="p">,</span>
    <span class="s2">"time"</span><span class="p">:</span> <span class="mi">0</span>
  <span class="p">}</span>
<span class="p">]</span>
</code></pre><h2 id='market_data'>查询币币历史成交(MARKET_DATA)</h2>
<p><code>GET /api/v1/spot/historicalTrades</code></p>

<p><strong>权重:</strong>
5</p>

<p><strong>参数:</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>limit</td>
<td>INT</td>
<td>NO</td>
<td>Default 200; max 500.</td>
</tr>
<tr>
<td>fromId</td>
<td>LONG</td>
<td>NO</td>
<td>从哪一条成交id开始返回. 缺省返回最近的成交记录</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"3489"</span><span class="p">,</span>
    <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"0.00001457"</span><span class="p">,</span>
    <span class="s2">"qty"</span><span class="p">:</span> <span class="s2">"6"</span><span class="p">,</span>
    <span class="s2">"time"</span><span class="p">:</span> <span class="mi">1551129538000</span><span class="p">,</span>
    <span class="s2">"buyerMaker"</span><span class="p">:</span> <span class="kc">false</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"3488"</span><span class="p">,</span>
    <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"0.00001464"</span><span class="p">,</span>
    <span class="s2">"qty"</span><span class="p">:</span> <span class="s2">"2"</span><span class="p">,</span>
    <span class="s2">"time"</span><span class="p">:</span> <span class="mi">1551129500000</span><span class="p">,</span>
    <span class="s2">"buyerMaker"</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">}</span>
<span class="p">]</span>
</code></pre><h2 id='k'>币币K线数据</h2>
<p><code>GET /api/v1/spot/klines</code>
每根K线的开盘时间可视为唯一ID</p>

<p><strong>权重:</strong>
1</p>

<p><strong>参数:</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>interval</td>
<td>ENUM</td>
<td>YES</td>
<td>&quot;1m&quot;:分钟&quot;3m&quot;:分钟&quot;5m&quot;:分钟&quot;15m&quot;:分钟&quot;30m&quot;:分钟&quot;1h&quot;:小时&quot;2h&quot;:小时&quot;4h&quot;:小时&quot;6h&quot;:小时&quot;12h&quot;:小时&quot;1d&quot;:天&quot;3d&quot;:天&quot;1w&quot;:星期</td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td></td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td></td>
</tr>
<tr>
<td>limit</td>
<td>INT</td>
<td>NO</td>
<td>Default 500; max 1000.</td>
</tr>
</tbody></table>

<ul>
<li>缺省返回最近的数据</li>
</ul>

<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">[</span>
  <span class="p">[</span>
    <span class="mi">1499040000000</span><span class="p">,</span>      <span class="c1">// 开盘时间</span>
    <span class="s2">"0.01634790"</span><span class="p">,</span>       <span class="c1">// 开盘价</span>
    <span class="s2">"0.80000000"</span><span class="p">,</span>       <span class="c1">// 最高价</span>
    <span class="s2">"0.01575800"</span><span class="p">,</span>       <span class="c1">// 最低价</span>
    <span class="s2">"0.01577100"</span><span class="p">,</span>       <span class="c1">// 收盘价(当前K线未结束的即为最新价)</span>
    <span class="s2">"148976.11427815"</span><span class="p">,</span>  <span class="c1">// 成交量</span>
    <span class="mi">1499644799999</span><span class="p">,</span>      <span class="c1">// 收盘时间</span>
    <span class="s2">"2434.19055334"</span><span class="p">,</span>    <span class="c1">// 成交额</span>
    <span class="mi">308</span><span class="p">,</span>                <span class="c1">// 成交笔数</span>
    <span class="s2">"1756.87402397"</span><span class="p">,</span>    <span class="c1">// 主动买入成交量</span>
    <span class="s2">"28.46694368"</span><span class="p">,</span>      <span class="c1">// 主动买入成交额</span>
    <span class="s2">"17928899.62484339"</span> <span class="c1">// 请忽略该参数</span>
  <span class="p">]</span>
<span class="p">]</span>
</code></pre><h2 id='501b2517c7'>币币当前平均价格</h2>
<p><code>GET /api/v1/spot/avgPrice</code></p>

<p><strong>权重:</strong>
1
<strong>参数:</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"mins"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"9.35751834"</span>
<span class="p">}</span>
</code></pre><h2 id='24hr'>币币24hr价格变动情况</h2>
<p><code>GET /api/v1/spot/ticker/24hr</code>
请注意，不携带symbol参数会返回全部交易对数据，不仅数据庞大，而且权重极高</p>

<p><strong>权重:</strong>
带symbol为1
不带为40</p>

<p><strong>参数:</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>STRING</td>
<td>NO</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BNBBTC"</span><span class="p">,</span>
  <span class="s2">"priceChange"</span><span class="p">:</span> <span class="s2">"1.00000000"</span><span class="p">,</span>
  <span class="s2">"priceChangePercent"</span><span class="p">:</span> <span class="s2">"50.00000000"</span><span class="p">,</span>
  <span class="s2">"weightedAvgPrice"</span><span class="p">:</span> <span class="s2">"1.88"</span><span class="p">,</span>
  <span class="s2">"lastPrice"</span><span class="p">:</span> <span class="s2">"3.00000000"</span><span class="p">,</span>
  <span class="s2">"bidPrice"</span><span class="p">:</span> <span class="s2">"1.00000000"</span><span class="p">,</span>
  <span class="s2">"bidQty"</span><span class="p">:</span> <span class="s2">"5.00000000"</span><span class="p">,</span>
  <span class="s2">"askPrice"</span><span class="p">:</span> <span class="s2">"3.00000000"</span><span class="p">,</span>
  <span class="s2">"askQty"</span><span class="p">:</span> <span class="s2">"9.00000000"</span><span class="p">,</span>
  <span class="s2">"openPrice"</span><span class="p">:</span> <span class="s2">"2.00000000"</span><span class="p">,</span>
  <span class="s2">"highPrice"</span><span class="p">:</span> <span class="s2">"18.00000000"</span><span class="p">,</span>
  <span class="s2">"lowPrice"</span><span class="p">:</span> <span class="s2">"1.00000000"</span><span class="p">,</span>
  <span class="s2">"volume"</span><span class="p">:</span> <span class="s2">"8.00000000"</span><span class="p">,</span>
  <span class="s2">"quoteVolume"</span><span class="p">:</span> <span class="s2">"15.00000000"</span><span class="p">,</span>
  <span class="s2">"openTime"</span><span class="p">:</span> <span class="mi">1551174049782</span><span class="p">,</span>
  <span class="s2">"closeTime"</span><span class="p">:</span> <span class="mi">1551173957144</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>OR</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BNBBTC"</span><span class="p">,</span>
    <span class="s2">"priceChange"</span><span class="p">:</span> <span class="s2">"1.00000000"</span><span class="p">,</span>
    <span class="s2">"priceChangePercent"</span><span class="p">:</span> <span class="s2">"50.00000000"</span><span class="p">,</span>
    <span class="s2">"weightedAvgPrice"</span><span class="p">:</span> <span class="s2">"1.88"</span><span class="p">,</span>
    <span class="s2">"lastPrice"</span><span class="p">:</span> <span class="s2">"3.00000000"</span><span class="p">,</span>
    <span class="s2">"bidPrice"</span><span class="p">:</span> <span class="s2">"1.00000000"</span><span class="p">,</span>
    <span class="s2">"bidQty"</span><span class="p">:</span> <span class="s2">"5.00000000"</span><span class="p">,</span>
    <span class="s2">"askPrice"</span><span class="p">:</span> <span class="s2">"3.00000000"</span><span class="p">,</span>
    <span class="s2">"askQty"</span><span class="p">:</span> <span class="s2">"9.00000000"</span><span class="p">,</span>
    <span class="s2">"openPrice"</span><span class="p">:</span> <span class="s2">"2.00000000"</span><span class="p">,</span>
    <span class="s2">"highPrice"</span><span class="p">:</span> <span class="s2">"18.00000000"</span><span class="p">,</span>
    <span class="s2">"lowPrice"</span><span class="p">:</span> <span class="s2">"1.00000000"</span><span class="p">,</span>
    <span class="s2">"volume"</span><span class="p">:</span> <span class="s2">"8.00000000"</span><span class="p">,</span>
    <span class="s2">"quoteVolume"</span><span class="p">:</span> <span class="s2">"15.00000000"</span><span class="p">,</span>
    <span class="s2">"openTime"</span><span class="p">:</span> <span class="mi">1551174049782</span><span class="p">,</span>
    <span class="s2">"closeTime"</span><span class="p">:</span> <span class="mi">1551173957144</span>
  <span class="p">}</span>
<span class="p">]</span>
</code></pre><h2 id='96100f5db0'>币币最新价格接口</h2>
<p><code>GET /api/v1/spot/ticker/price</code></p>

<p>返回最近价格</p>

<p><strong>权重:</strong>
单交易对1
无交易对2</p>

<p><strong>参数:</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>STRING</td>
<td>NO</td>
<td></td>
</tr>
</tbody></table>

<ul>
<li>不发送交易对参数，则会返回所有交易对信息</li>
</ul>

<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"LTCBTC"</span><span class="p">,</span>
  <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"4.00000200"</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>OR</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"LTCBTC"</span><span class="p">,</span>
    <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"4.00000200"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"ETHBTC"</span><span class="p">,</span>
    <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"0.07946600"</span>
  <span class="p">}</span>
<span class="p">]</span>
</code></pre><h2 id='4761d53e09'>币币最优挂单接口</h2>
<p><code>GET /api/v1/spot/ticker/bookTicker</code>
返回当前最优的挂单(最高买单，最低卖单)</p>

<p><strong>权重:</strong>
单交易对1
无交易对2</p>

<p><strong>参数:</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>STRING</td>
<td>NO</td>
<td></td>
</tr>
</tbody></table>

<ul>
<li>不发送交易对参数，则会返回所有交易对信息</li>
</ul>

<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"LTCBTC"</span><span class="p">,</span>
  <span class="s2">"bidPrice"</span><span class="p">:</span> <span class="s2">"4.00000000"</span><span class="p">,</span><span class="c1">//最优买单价</span>
  <span class="s2">"bidQty"</span><span class="p">:</span> <span class="s2">"431.00000000"</span><span class="p">,</span><span class="c1">//挂单量</span>
  <span class="s2">"askPrice"</span><span class="p">:</span> <span class="s2">"4.00000200"</span><span class="p">,</span><span class="c1">//最优卖单价</span>
  <span class="s2">"askQty"</span><span class="p">:</span> <span class="s2">"9.00000000"</span><span class="c1">//挂单量</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>OR</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"LTCBTC"</span><span class="p">,</span>
    <span class="s2">"bidPrice"</span><span class="p">:</span> <span class="s2">"4.00000000"</span><span class="p">,</span>
    <span class="s2">"bidQty"</span><span class="p">:</span> <span class="s2">"431.00000000"</span><span class="p">,</span>
    <span class="s2">"askPrice"</span><span class="p">:</span> <span class="s2">"4.00000200"</span><span class="p">,</span>
    <span class="s2">"askQty"</span><span class="p">:</span> <span class="s2">"9.00000000"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"ETHBTC"</span><span class="p">,</span>
    <span class="s2">"bidPrice"</span><span class="p">:</span> <span class="s2">"0.07946700"</span><span class="p">,</span>
    <span class="s2">"bidQty"</span><span class="p">:</span> <span class="s2">"9.00000000"</span><span class="p">,</span>
    <span class="s2">"askPrice"</span><span class="p">:</span> <span class="s2">"100000.00000000"</span><span class="p">,</span>
    <span class="s2">"askQty"</span><span class="p">:</span> <span class="s2">"1000.00000000"</span>
  <span class="p">}</span>
<span class="p">]</span>
</code></pre><h1 id='1ab2aacc04'>交易接口</h1><h2 id='trade'>币币下单  (TRADE)</h2>
<p><code>POST /api/v1/spot/order  (HMAC SHA256)</code></p>

<p><strong>权重:</strong>
1</p>

<p><strong>参数:</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>side</td>
<td>ENUM</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>type</td>
<td>ENUM</td>
<td>YES</td>
<td><code>LIMIT</code></td>
</tr>
<tr>
<td>quantity</td>
<td>DECIMAL</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>DECIMAL</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>newOrderRespType</td>
<td>ENUM</td>
<td>NO</td>
<td>指定响应类型 <code>ACK</code>, <code>RESULT</code>; 默认为<code>ACK</code>.</td>
</tr>
<tr>
<td>recvWindow</td>
<td>LONG</td>
<td>NO</td>
<td></td>
</tr>
<tr>
<td>timestamp</td>
<td>LONG</td>
<td>YES</td>
<td></td>
</tr>
</tbody></table>

<p>关于 newOrderRespType的俩种选择</p>

<p><strong>Response ACK:</strong>
返回速度快，不包含成交信息，信息量最少</p>

<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"JEXBTC"</span><span class="p">,</span>
  <span class="s2">"orderId"</span><span class="p">:</span> <span class="mi">28</span><span class="p">,</span>
  <span class="s2">"transactTime"</span><span class="p">:</span> <span class="mi">1507725176595</span>
<span class="p">}</span>
</code></pre>
<p><strong>Response RESULT:</strong>
返回速度慢，返回吃单成交的少量信息</p>

<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"JEXBTC"</span><span class="p">,</span>
  <span class="s2">"orderId"</span><span class="p">:</span> <span class="mi">2208</span><span class="p">,</span>
  <span class="s2">"transactTime"</span><span class="p">:</span> <span class="mi">1551184078060</span><span class="p">,</span>
  <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"0.00001464"</span><span class="p">,</span>
  <span class="s2">"origQty"</span><span class="p">:</span> <span class="s2">"1"</span><span class="p">,</span>
  <span class="s2">"executedQty"</span><span class="p">:</span> <span class="s2">"0"</span><span class="p">,</span>
  <span class="s2">"cummulativeQuoteQty"</span><span class="p">:</span> <span class="s2">"0.00000000"</span><span class="p">,</span>
  <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"NEW"</span><span class="p">,</span>
  <span class="s2">"timeInForce"</span><span class="p">:</span> <span class="s2">"GTC"</span><span class="p">,</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"LIMIT"</span><span class="p">,</span>
  <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"BUY"</span>
<span class="p">}</span>
</code></pre><h2 id='trade-2'>币币测试下单接口 (TRADE)</h2>
<p>`POST /api/v1/spot/order/test (HMAC SHA256)</p>

<p>用于测试订单请求，但不会提交到撮合引擎</p>

<p><strong>权重:</strong>
1</p>

<p><strong>参数:</strong></p>

<p>参考 <code>POST /api/v1/spot/order</code></p>

<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{}</span>
</code></pre><h2 id='user_data'>币币查询订单 (USER_DATA)</h2>
<p><code>GET /api/v1/spot/order (HMAC SHA256)</code>
查询订单状态</p>

<p><strong>权重:</strong>
1</p>

<p><strong>参数:</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>orderId</td>
<td>LONG</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>recvWindow</td>
<td>LONG</td>
<td>NO</td>
<td></td>
</tr>
<tr>
<td>timestamp</td>
<td>LONG</td>
<td>YES</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"JEXBTC"</span><span class="p">,</span>
  <span class="s2">"orderId"</span><span class="p">:</span> <span class="s2">"2208"</span><span class="p">,</span>
  <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"0.00001464"</span><span class="p">,</span>
  <span class="s2">"origQty"</span><span class="p">:</span> <span class="s2">"1.00000000"</span><span class="p">,</span>
  <span class="s2">"executedQty"</span><span class="p">:</span> <span class="s2">"1.00000000"</span><span class="p">,</span>
  <span class="s2">"cummulativeQuoteQty"</span><span class="p">:</span> <span class="s2">"0.00001464"</span><span class="p">,</span>
  <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"FILLED"</span><span class="p">,</span>
  <span class="s2">"timeInForce"</span><span class="p">:</span> <span class="s2">"GTC"</span><span class="p">,</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"LIMIT"</span><span class="p">,</span>
  <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"BUY"</span><span class="p">,</span>
  <span class="s2">"time"</span><span class="p">:</span> <span class="mi">1551184037000</span><span class="p">,</span>
  <span class="s2">"updateTime"</span><span class="p">:</span> <span class="mi">1551184037000</span><span class="p">,</span>
  <span class="s2">"working"</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>
</code></pre><h2 id='trade-3'>币币撤销订单 (TRADE)</h2>
<p><code>DELETE /api/v1/spot/order  (HMAC SHA256)</code></p>

<p><strong>权重:</strong>
1</p>

<p><strong>Parameters:</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>orderId</td>
<td>LONG</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>recvWindow</td>
<td>LONG</td>
<td>NO</td>
<td></td>
</tr>
<tr>
<td>timestamp</td>
<td>LONG</td>
<td>YES</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"JEXBTC"</span><span class="p">,</span>
  <span class="s2">"orderId"</span><span class="p">:</span> <span class="mi">75</span><span class="p">,</span>
  <span class="s2">"transactTime"</span><span class="p">:</span> <span class="mi">1551238738296</span><span class="p">,</span>
  <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"0.00001407"</span><span class="p">,</span>
  <span class="s2">"origQty"</span><span class="p">:</span> <span class="s2">"4"</span><span class="p">,</span>
  <span class="s2">"executedQty"</span><span class="p">:</span> <span class="s2">"0"</span><span class="p">,</span>
  <span class="s2">"cummulativeQuoteQty"</span><span class="p">:</span> <span class="s2">"0.00000000"</span><span class="p">,</span>
  <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"CANCELED"</span><span class="p">,</span>
  <span class="s2">"timeInForce"</span><span class="p">:</span> <span class="s2">"GTC"</span><span class="p">,</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"LIMIT"</span><span class="p">,</span>
  <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"BUY"</span>
<span class="p">}</span>
</code></pre><h2 id='user_data-2'>查看账户当前币币挂单 (USER_DATA)</h2>
<p><code>GET /api/v1/spot/openOrders  (HMAC SHA256)</code></p>

<p><strong>权重:</strong><br>
 5</p>

<p><strong>参数:</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>orderId</td>
<td>LONG</td>
<td>NO</td>
<td>只返回此orderID之后的订单，缺省返回最近的订单</td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td></td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td></td>
</tr>
<tr>
<td>limit</td>
<td>INT</td>
<td>NO</td>
<td>Default 500; max 500.</td>
</tr>
<tr>
<td>recvWindow</td>
<td>LONG</td>
<td>NO</td>
<td></td>
</tr>
<tr>
<td>timestamp</td>
<td>LONG</td>
<td>YES</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"JEXBTC"</span><span class="p">,</span>
    <span class="s2">"orderId"</span><span class="p">:</span> <span class="s2">"76"</span><span class="p">,</span>
    <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"0.00001406"</span><span class="p">,</span>
    <span class="s2">"origQty"</span><span class="p">:</span> <span class="s2">"5.00000000"</span><span class="p">,</span>
    <span class="s2">"executedQty"</span><span class="p">:</span> <span class="s2">"0.00000000"</span><span class="p">,</span>
    <span class="s2">"cummulativeQuoteQty"</span><span class="p">:</span> <span class="s2">"0.00000000"</span><span class="p">,</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"NEW"</span><span class="p">,</span>
    <span class="s2">"timeInForce"</span><span class="p">:</span> <span class="s2">"GTC"</span><span class="p">,</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"LIMIT"</span><span class="p">,</span>
    <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"BUY"</span><span class="p">,</span>
    <span class="s2">"time"</span><span class="p">:</span> <span class="mi">1550659007000</span><span class="p">,</span>
    <span class="s2">"updateTime"</span><span class="p">:</span> <span class="mi">1550659007000</span><span class="p">,</span>
    <span class="s2">"working"</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">}</span>
<span class="p">]</span>
</code></pre><h2 id='user_data-3'>账户币币历史委托 (USER_DATA)</h2>
<p><code>GET /api/v1/spot/historyOrders  (HMAC SHA256)</code>
获取某交易对的成交历史</p>

<p><strong>权重:</strong>
5</p>

<p><strong>参数:</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>orderId</td>
<td>LONG</td>
<td>NO</td>
<td>返回该orderId之后的成交，缺省返回最近的成交</td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td></td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td></td>
</tr>
<tr>
<td>limit</td>
<td>INT</td>
<td>NO</td>
<td>Default 500; max 500.</td>
</tr>
<tr>
<td>recvWindow</td>
<td>LONG</td>
<td>NO</td>
<td></td>
</tr>
<tr>
<td>timestamp</td>
<td>LONG</td>
<td>YES</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"JEXBTC"</span><span class="p">,</span>
    <span class="s2">"orderId"</span><span class="p">:</span> <span class="s2">"15"</span><span class="p">,</span>
    <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"0.00001490"</span><span class="p">,</span>
    <span class="s2">"origQty"</span><span class="p">:</span> <span class="s2">"3.00000000"</span><span class="p">,</span>
    <span class="s2">"executedQty"</span><span class="p">:</span> <span class="s2">"3.00000000"</span><span class="p">,</span>
    <span class="s2">"cummulativeQuoteQty"</span><span class="p">:</span> <span class="s2">"0.00004470"</span><span class="p">,</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"FILLED"</span><span class="p">,</span>
    <span class="s2">"timeInForce"</span><span class="p">:</span> <span class="s2">"GTC"</span><span class="p">,</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"LIMIT"</span><span class="p">,</span>
    <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"BUY"</span><span class="p">,</span>
    <span class="s2">"time"</span><span class="p">:</span> <span class="mi">1550643800000</span><span class="p">,</span>
    <span class="s2">"updateTime"</span><span class="p">:</span> <span class="mi">1550644851000</span><span class="p">,</span>
    <span class="s2">"working"</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">}</span>
<span class="p">]</span>
</code></pre><h2 id='user_data-4'>账户资产信息(USER_DATA)</h2>
<p><code>GET /api/v1/account (HMAC SHA256)</code></p>

<p><strong>权重:</strong>
1</p>

<p><strong>参数:</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>recvWindow</td>
<td>LONG</td>
<td>NO</td>
<td></td>
</tr>
<tr>
<td>timestamp</td>
<td>LONG</td>
<td>YES</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"updateTime"</span><span class="p">:</span> <span class="mi">1523093528000</span>
    <span class="s2">"contractBalances"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">"asset"</span><span class="p">:</span> <span class="s2">"usdt"</span><span class="p">,</span>
            <span class="s2">"canDeposit"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="s2">"canTrade"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="s2">"canWithdraw"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="s2">"free"</span><span class="p">:</span> <span class="s2">"8144.0412"</span><span class="p">,</span>
            <span class="s2">"locked"</span><span class="p">:</span> <span class="s2">"1855.3288"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"optionBalances"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">"asset"</span><span class="p">:</span> <span class="s2">"BCXBTC01"</span><span class="p">,</span>
            <span class="s2">"canDeposit"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="s2">"canTrade"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="s2">"canWithdraw"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="s2">"free"</span><span class="p">:</span> <span class="s2">"0"</span><span class="p">,</span>
            <span class="s2">"locked"</span><span class="p">:</span> <span class="s2">"0"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"spotBalances"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">"asset"</span><span class="p">:</span> <span class="s2">"BTC"</span><span class="p">,</span>
            <span class="s2">"canDeposit"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="s2">"canTrade"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="s2">"canWithdraw"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="s2">"free"</span><span class="p">:</span> <span class="s2">"999616.1363"</span><span class="p">,</span>
            <span class="s2">"locked"</span><span class="p">:</span> <span class="s2">"0.7219"</span>
        <span class="p">}</span>
    <span class="p">],</span>
<span class="p">}</span>
</code></pre><h1 id='d71e480bcb'>用户数据流订阅接口</h1>
<ul>
<li>此处仅列出如何得到数据流名称及如何维持有效期的接口</li>
<li>本篇所列出REST接口的baseurl <strong>https://www.jex.com</strong> </li>
<li>用于订阅账户数据的 <code>listenKey</code> 从创建时刻起有效期为60分钟</li>
<li>可以通过<code>PUT</code>一个<code>listenKey</code>延长60分钟有效期</li>
<li><code>DELETE</code>一个 <code>listenKey</code> 立即关闭当前数据流</li>
<li>本篇所列出的websocket接口baseurl: <strong>wss://ws.jex.com</strong> </li>
<li>订阅账户数据流的stream名称为 <strong>/ws/&lt;listenKey&gt;</strong></li>
<li>每个到stream.jex.com的链接有效期不超过24小时，请妥善处理断线重连。</li>
<li>账户数据流的消息<strong>不保证</strong>严格时间序; <strong>请使用 E 字段进行排序</strong></li>
</ul>
<h2 id='user_stream'>新建用户数据流 (USER_STREAM)</h2>
<p><code>POST /api/v1/userDataStream</code>
从创建起60分钟有效</p>

<p><strong>权重:</strong>
1</p>

<p><strong>Parameters:</strong>
NONE</p>

<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"listenKey"</span><span class="p">:</span> <span class="s2">"pqia91ma19a5s61cv6a81va65sdf19v8a65a1a5s61cv6a81va65sdf19v8a65a1"</span> <span class="c1">//用于订阅的数据流名</span>
<span class="p">}</span>
</code></pre><h2 id='keepalive-user_stream'>Keepalive (USER_STREAM)</h2>
<p><code>PUT /api/v1/userDataStream</code>
延长用户数据流有效期到60分钟之后。 建议每30分钟调用一次</p>

<p><strong>权重:</strong>
1</p>

<p><strong>参数:</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>listenKey</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{}</span>
</code></pre><h2 id='user_stream-2'>关闭用户数据流 (USER_STREAM)</h2>
<p><code>DELETE /api/v1/userDataStream</code></p>

<p><strong>权重:</strong>
1</p>

<p><strong>参数:</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>listenKey</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{}</span>
</code></pre>
<p><strong>用户私有数据 User Data Streams</strong></p>
<h2 id='f290514d1a'>账户更新</h2>
<ul>
<li>账户更新事件的 event type 固定为 <code>accountSpotInfo</code> AND <code>accountOptionInfo</code> AND <code>accountContractInfo</code> 分别对应现货、期权、期货的资产事件
当对应资产信息有变动时，会推送相应的事件</li>
</ul>

<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"e"</span><span class="p">:</span> <span class="s2">"accountSpotInfo"</span><span class="p">,</span>       <span class="c1">// 事件类型</span>
  <span class="s2">"E"</span><span class="p">:</span> <span class="mi">1499405658849</span><span class="p">,</span>           <span class="c1">// 事件时间</span>
  <span class="s2">"m"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>                       <span class="c1">// 挂单费率</span>
  <span class="s2">"t"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>                       <span class="c1">// 吃单费率</span>
  <span class="s2">"u"</span><span class="p">:</span> <span class="mi">1499405658848</span><span class="p">,</span>           <span class="c1">// 账户末次更新时间戳</span>
  <span class="s2">"B"</span><span class="p">:</span> <span class="p">[</span>                        <span class="c1">// 余额</span>
    <span class="p">{</span>
      <span class="s2">"a"</span><span class="p">:</span> <span class="s2">"LTC"</span><span class="p">,</span>               <span class="c1">// 资产名称</span>
      <span class="s2">"o"</span><span class="p">:</span> <span class="s2">"1.57"</span><span class="p">,</span>              <span class="c1">// 委托保证金（仅合约资产存在）</span>
      <span class="s2">"p"</span><span class="p">:</span>  <span class="s2">"0"</span>  <span class="err">，</span>             <span class="c1">// 持仓保证金（仅合约资产存在）</span>
      <span class="s2">"f"</span><span class="p">:</span> <span class="s2">"17366.18538083"</span><span class="p">,</span>    <span class="c1">// 可用余额</span>
      <span class="s2">"l"</span><span class="p">:</span> <span class="s2">"0.00000000"</span><span class="p">,</span>        <span class="c1">// 冻结余额  </span>
      <span class="s2">"T"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>                <span class="c1">// 是否允许交易</span>
      <span class="s2">"W"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>                <span class="c1">// 是否允许提现</span>
      <span class="s2">"D"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>                <span class="c1">// 是否允许充值</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"a"</span><span class="p">:</span> <span class="s2">"BTC"</span><span class="p">,</span>
      <span class="s2">"f"</span><span class="p">:</span> <span class="s2">"10537.85314051"</span><span class="p">,</span>
      <span class="s2">"l"</span><span class="p">:</span> <span class="s2">"2.19464093"</span><span class="p">,</span>
      <span class="s2">"T"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>                <span class="c1">// 是否允许交易</span>
      <span class="s2">"W"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>                <span class="c1">// 是否允许提现</span>
       <span class="s2">"D"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>               <span class="c1">// 是否允许充值</span>
 <span class="p">},</span>
    <span class="p">{</span>
    <span class="s2">"T"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>                  <span class="c1">// 是否允许交易</span>
    <span class="s2">"W"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>                  <span class="c1">// 是否允许提现</span>
    <span class="s2">"D"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>                  <span class="c1">// 是否允许充值</span>
    <span class="s2">"a"</span><span class="p">:</span> <span class="s2">"ETH"</span><span class="p">,</span>
    <span class="s2">"f"</span><span class="p">:</span> <span class="s2">"17902.35190619"</span><span class="p">,</span>
    <span class="s2">"l"</span><span class="p">:</span> <span class="s2">"0.00000000"</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre><h2 id='99bdca2f1a'>订单交易更新</h2>
<ul>
<li>当有新订单创建、订单有新成交或者新的状态变化时会推送此类事件</li>
</ul>

<p>event type统一为 <code>execSpotReport</code> AND <code>execOptionReport</code> AND <code>execContractReport</code> 分别对应现货、期权、合约的事件类型</p>

<p>具体内容需要读取 <code>x</code>字段 判断执行类型</p>
<h3 id='playload'>现货和期权的Playload:</h3>
<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"E"</span><span class="p">:</span> <span class="mi">1499405658849</span><span class="p">,</span>            <span class="c1">// 事件时间</span>
  <span class="s2">"e"</span><span class="p">:</span> <span class="s2">"execSpotReport"</span><span class="p">,</span>         <span class="c1">// 事件类型</span>
  <span class="s2">"s"</span><span class="p">:</span> <span class="s2">"JEXBTC"</span><span class="p">,</span>                 <span class="c1">// 交易对</span>
  <span class="s2">"S"</span><span class="p">:</span> <span class="s2">"BUY"</span><span class="p">,</span>                    <span class="c1">// 订单方向</span>
  <span class="s2">"q"</span><span class="p">:</span> <span class="s2">"1.00000000"</span><span class="p">,</span>             <span class="c1">// 订单原始数量</span>
  <span class="s2">"p"</span><span class="p">:</span> <span class="s2">"0.10264410"</span><span class="p">,</span>             <span class="c1">// 订单原始价格</span>
  <span class="s2">"X"</span><span class="p">:</span> <span class="s2">"NEW"</span><span class="p">,</span>                    <span class="c1">// 订单的当前状态</span>
  <span class="s2">"i"</span><span class="p">:</span> <span class="mi">4293153</span><span class="p">,</span>                  <span class="c1">// 订单ID</span>
  <span class="s2">"z"</span><span class="p">:</span> <span class="s2">"0.00000000"</span><span class="p">,</span>             <span class="c1">// 订单累计已成交数量</span>
  <span class="s2">"O"</span><span class="p">:</span> <span class="mi">1499405658657</span><span class="p">,</span>            <span class="c1">// 订单创建时间</span>
  <span class="s2">"Z"</span><span class="p">:</span> <span class="s2">"0.00000000"</span><span class="p">,</span>             <span class="c1">// 订单累计已成交金额</span>
<span class="p">}</span>
</code></pre><h4 id='x'>现货和期权可能的执行类型(X字段):</h4>
<ul>
<li>NEW 新建订单</li>
<li>PARTIALLY_FILLED  部分成交</li>
<li>FILLED  全部成交</li>
<li>CANCELED  已撤销</li>
<li>FAIL 下单失败</li>
<li>CANCLEFILLED 撤单完成</li>
</ul>

<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"E"</span><span class="p">:</span> <span class="mi">1499405658849</span><span class="p">,</span>            <span class="c1">// 事件时间</span>
  <span class="s2">"e"</span><span class="p">:</span> <span class="s2">"execContractReport"</span><span class="p">,</span>     <span class="c1">// 事件类型</span>
  <span class="s2">"s"</span><span class="p">:</span> <span class="s2">"ETHBTC"</span><span class="p">,</span>                 <span class="c1">// 交易对           (被拒绝时不存在)</span>
  <span class="s2">"X"</span><span class="p">:</span> <span class="s2">"NEW"</span><span class="p">,</span>                    <span class="c1">// 订单的当前状态   </span>
  <span class="s2">"r"</span><span class="p">:</span> <span class="s2">"NONE"</span><span class="p">,</span>                   <span class="c1">// 订单被拒绝的原因  (被拒绝才会存在)</span>
  <span class="s2">"i"</span><span class="p">:</span> <span class="mi">4293153</span><span class="p">,</span>                  <span class="c1">// 订单ID</span>
  <span class="s2">"z"</span><span class="p">:</span> <span class="s2">"0.00000000"</span><span class="p">,</span>             <span class="c1">// 订单累计已成交数量 (被拒绝时不存在)</span>
  <span class="s2">"Z"</span><span class="p">:</span> <span class="s2">"0.00000000"</span><span class="p">,</span>             <span class="c1">// 订单累计已成交金额 (被拒绝时不存在)</span>
<span class="p">}</span>
</code></pre><h4 id='x-2'>合约可能的执行类型(X字段):</h4>
<ul>
<li>ENTRUSTED 下单完成</li>
<li>ENTRUSTING 下单中</li>
<li>FAIL 下单失败</li>
<li>PARTFILLED 部分成交</li>
<li>FILLED 订单完成</li>
<li>CANCEL 订单取消</li>
</ul>
<h4 id='0e94004ba9'>被拒绝的例子:</h4>
<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="nl">E</span><span class="p">:</span> <span class="mi">1571225843289</span>
  <span class="nl">X</span><span class="p">:</span> <span class="s2">"FAIL"</span>
  <span class="nl">e</span><span class="p">:</span> <span class="s2">"execContractReport"</span>
  <span class="nl">i</span><span class="p">:</span> <span class="s2">"4612616205276108403"</span>
  <span class="nl">r</span><span class="p">:</span> <span class="s2">"insufficient Available"</span>  
<span class="p">}</span>
</code></pre><h4 id='r'>失败的原因(R字段)</h4>
<ul>
<li>insufficient Available</li>
<li>too many pending requests</li>
<li>position is being liquidated</li>
<li>position is being closed</li>
<li>closing empty position</li>
<li>closing order is enough</li>
<li>contract is disabled</li>
<li>reach liquidation price</li>
<li>reach risk limit</li>
</ul>
<h2 id='14b9dadea2'>合约持仓</h2>
<ul>
<li>当合约持仓有变化时，信息推送</li>
<li>event type 为 contractPositions</li>
</ul>

<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"E"</span><span class="p">:</span> <span class="mi">1553050064078</span><span class="p">,</span>
    <span class="s2">"e"</span><span class="p">:</span> <span class="s2">"contractPositions"</span><span class="p">,</span>
    <span class="s2">"p"</span><span class="p">:</span> <span class="p">[{</span>
        <span class="s2">"M"</span><span class="p">:</span> <span class="s2">"100"</span><span class="p">,</span> <span class="c1">// 最大可用杠杆</span>
        <span class="s2">"R"</span><span class="p">:</span> <span class="s2">"3903.99060000"</span><span class="p">,</span> <span class="c1">// 已用风险限额</span>
        <span class="s2">"S"</span><span class="p">:</span> <span class="s2">"0"</span><span class="p">,</span> <span class="c1">// sell委托价值</span>
        <span class="s2">"a"</span><span class="p">:</span> <span class="s2">"20"</span><span class="p">,</span> <span class="c1">// 强减顺序</span>
        <span class="s2">"b"</span><span class="p">:</span> <span class="s2">"0"</span><span class="p">,</span> <span class="c1">// buy委托价值</span>
        <span class="s2">"c"</span><span class="p">:</span> <span class="s2">"1301.33020000"</span><span class="p">,</span> <span class="c1">//开仓价格</span>
        <span class="s2">"d"</span><span class="p">:</span> <span class="s2">"longs"</span><span class="p">,</span> <span class="c1">//方向</span>
        <span class="s2">"i"</span><span class="p">:</span> <span class="s2">"0.05"</span><span class="p">,</span> <span class="c1">//初始保证金</span>
        <span class="s2">"l"</span><span class="p">:</span> <span class="s2">"-49.9759"</span><span class="p">,</span> <span class="c1">//平仓价格</span>
        <span class="s2">"m"</span><span class="p">:</span> <span class="s2">"0.005"</span><span class="p">,</span> <span class="c1">//维持保证金</span>
        <span class="s2">"n"</span><span class="p">:</span> <span class="s2">"0"</span><span class="p">,</span> <span class="c1">//当前委托价值</span>
        <span class="s2">"o"</span><span class="p">:</span> <span class="s2">"4088.0779300000"</span><span class="p">,</span> <span class="c1">//保证金</span>
        <span class="s2">"q"</span><span class="p">:</span> <span class="s2">"3.0000"</span><span class="p">,</span><span class="c1">//持仓数量</span>
        <span class="s2">"r"</span><span class="p">:</span> <span class="s2">"900000"</span><span class="p">,</span><span class="c1">//当前风险值</span>
        <span class="s2">"s"</span><span class="p">:</span> <span class="s2">"EOSUSDT"</span><span class="p">,</span><span class="c1">//交易对</span>
        <span class="s2">"t"</span><span class="p">:</span> <span class="s2">"3903.99060000"</span><span class="p">,</span> <span class="c1">//持仓成本价值</span>
        <span class="s2">"v"</span><span class="p">:</span> <span class="s2">"20.00"</span><span class="c1">//杠杆</span>
    <span class="p">}]</span>
<span class="p">}</span>

</code></pre><h1 id='websocket'>Websocket 行情推送</h1><h2 id='websock'>websock基本信息</h2>
<ul>
<li>本篇所列出的所有wss接口的baseurl为: wss://ws.jex.com 或者 wss://testnetws.jex.com</li>
<li>其中 wss://testnetws.jex.com 为模拟环境。</li>
<li>所有stream均可以直接访问，或者作为组合streams的一部分。</li>
<li>直接访问时URL格式为 /ws/&lt;streamName&gt;</li>
<li>组合streams的URL格式为 /stream?streams=&lt;streamName1&gt;/&lt;streamName2&gt;/&lt;streamName3&gt;</li>
<li>订阅组合streams时，事件payload会以这样的格式封装 {&quot;stream&quot;:&quot;&lt;streamName&gt;&quot;,&quot;data&quot;:&lt;rawPayload&gt;}</li>
<li>stream名称中所有交易对均为大写</li>
<li>每个到stream.jex.com的链接有效期不超过24小时，请妥善处理断线重连。</li>
<li>每20秒，服务端会发送ping帧，客户端应当在10分钟内回复pong帧，否则服务端会主动断开链接。允许客户端发送不成对的pong帧(即客户端可以以高于10分钟每次的频率发送pong帧保持链接)。</li>
<li>wss 的 contract 订单的sell数量统一为负数</li>
<li>推荐使用组合streams方式进行连接，每个组合streams可最多订阅10个stream</li>
</ul>

<p><strong>Stream 详细定义</strong></p>
<h2 id='websocket-2'>Websocket 最近成交</h2>
<ul>
<li>每隔100 ms 推送一次，上一秒内所有的逐笔交易，一笔逐笔交易的定义是仅有一个吃单者与一个挂单者相互交易。</li>
</ul>
<h3 id='stream-lt-symbol-gt-lt-tradetype-gt'>Stream 名称: &lt;symbol&gt;@&lt;tradeType&gt;</h3>
<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">[{</span>
  <span class="s2">"e"</span><span class="p">:</span> <span class="s2">"spotTrade"</span><span class="p">,</span>     <span class="c1">// 事件类型</span>
  <span class="s2">"E"</span><span class="p">:</span> <span class="mi">123456789</span><span class="p">,</span>       <span class="c1">// 事件时间</span>
  <span class="s2">"s"</span><span class="p">:</span> <span class="s2">"JEXBTC"</span><span class="p">,</span>        <span class="c1">// 交易对</span>
  <span class="s2">"t"</span><span class="p">:</span> <span class="mi">12345</span><span class="p">,</span>           <span class="c1">// 交易ID</span>
  <span class="s2">"p"</span><span class="p">:</span> <span class="s2">"0.001"</span><span class="p">,</span>         <span class="c1">// 成交价格</span>
  <span class="s2">"q"</span><span class="p">:</span> <span class="s2">"100"</span><span class="p">,</span>           <span class="c1">// 成交数量</span>
  <span class="s2">"T"</span><span class="p">:</span> <span class="mi">123456785</span><span class="p">,</span>       <span class="c1">// 成交时间</span>
  <span class="s2">"m"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>            <span class="c1">// 买方是否是做市方。如true，则此次成交是一个主动卖出单，否则是一个主动买入单。</span>
<span class="p">},{...},...</span>
<span class="p">]</span>
</code></pre><h3 id='tradetype'>tradeType类型说明</h3>
<ul>
<li>支持以下三个事件类型

<ul>
<li>spotTrade 现货类型</li>
<li>optionTrade 期权类型</li>
<li>contractTrade 合约类型</li>
</ul></li>
</ul>
<h2 id='websocket-k'>Websocket K线</h2>
<ul>
<li><p>K线stream逐秒推送所请求的K线种类(最新一根K线)的更新</p></li>
<li><p>订阅Kline需要提供间隔参数，最短为分钟线，最长为周线。支持以下间隔:</p>

<ul>
<li>1M 1分钟</li>
<li>5M 5分钟</li>
<li>15M 15分钟</li>
<li>30M 30分钟</li>
<li>1H 1小时</li>
<li>4H 4小时</li>
<li>1D 1天</li>
<li>1W 1周</li>
</ul></li>
</ul>
<h3 id='stream-lt-symbol-gt-lt-klinetype-gt-_-lt-interval-gt'>Stream 名称: &lt;symbol&gt;@&lt;klineType&gt;_&lt;interval&gt;</h3>
<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"e"</span><span class="p">:</span> <span class="s2">"spotKline"</span><span class="p">,</span>     <span class="c1">// 事件类型</span>
  <span class="s2">"E"</span><span class="p">:</span> <span class="mi">123456789</span><span class="p">,</span>       <span class="c1">// 事件时间</span>
  <span class="s2">"s"</span><span class="p">:</span> <span class="s2">"JEXBTC"</span><span class="p">,</span>        <span class="c1">// 交易对</span>
  <span class="s2">"k"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"t"</span><span class="p">:</span> <span class="mi">123400000</span><span class="p">,</span>     <span class="c1">// 这根K线的起始时间</span>
    <span class="s2">"T"</span><span class="p">:</span> <span class="mi">123460000</span><span class="p">,</span>     <span class="c1">// 这根K线的结束时间</span>
    <span class="s2">"s"</span><span class="p">:</span> <span class="s2">"JEXBTC"</span><span class="p">,</span>      <span class="c1">// 交易对</span>
    <span class="s2">"i"</span><span class="p">:</span> <span class="s2">"1m"</span><span class="p">,</span>          <span class="c1">// K线间隔</span>
    <span class="s2">"o"</span><span class="p">:</span> <span class="s2">"0.0010"</span><span class="p">,</span>      <span class="c1">// 这根K线期间第一笔成交价</span>
    <span class="s2">"c"</span><span class="p">:</span> <span class="s2">"0.0020"</span><span class="p">,</span>      <span class="c1">// 这根K线期间末一笔成交价</span>
    <span class="s2">"h"</span><span class="p">:</span> <span class="s2">"0.0025"</span><span class="p">,</span>      <span class="c1">// 这根K线期间最高成交价</span>
    <span class="s2">"l"</span><span class="p">:</span> <span class="s2">"0.0015"</span><span class="p">,</span>      <span class="c1">// 这根K线期间最低成交价</span>
    <span class="s2">"v"</span><span class="p">:</span> <span class="s2">"1000"</span><span class="p">,</span>        <span class="c1">// 这根K线期间成交量</span>
    <span class="s2">"q"</span><span class="p">:</span> <span class="s2">"1.0000"</span><span class="p">,</span>      <span class="c1">// 这根K线期间成交额</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><h3 id='klinetype'>klineType类型说明</h3>
<ul>
<li>klineType 支持的类型

<ul>
<li>spotKline</li>
<li>optionKline</li>
<li>contractKline</li>
</ul></li>
</ul>
<h2 id='symbol-ticker'>按Symbol的精简Ticker</h2>
<ul>
<li>按Symbol逐秒刷新的24小时精简ticker信息</li>
</ul>
<h3 id='stream-lt-symbol-gt-lt-minitickertype-gt'>Stream 名称: &lt;symbol&gt;@&lt;miniTickerType&gt;</h3>
<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"e"</span><span class="p">:</span> <span class="s2">"24hrSpotMiniTicker"</span><span class="p">,</span>   <span class="c1">// 事件类型</span>
    <span class="s2">"E"</span><span class="p">:</span> <span class="mi">123456789</span><span class="p">,</span>              <span class="c1">// 事件时间</span>
    <span class="s2">"s"</span><span class="p">:</span> <span class="s2">"JEXBTC"</span><span class="p">,</span>               <span class="c1">// 交易对</span>
    <span class="s2">"c"</span><span class="p">:</span> <span class="s2">"0.0025"</span><span class="p">,</span>               <span class="c1">// 最新成交价格</span>
    <span class="s2">"h"</span><span class="p">:</span> <span class="s2">"0.0025"</span><span class="p">,</span>               <span class="c1">// 24小时内最高成交价</span>
    <span class="s2">"l"</span><span class="p">:</span> <span class="s2">"0.0010"</span><span class="p">,</span>               <span class="c1">// 24小时内最低成交加</span>
    <span class="s2">"m"</span><span class="p">:</span> <span class="s2">"10000"</span><span class="p">,</span>                <span class="c1">// 标记价(只有contractMiniTicker 类型才存在字段)</span>
    <span class="s2">"i"</span><span class="p">:</span> <span class="s2">"10000"</span><span class="p">,</span>                <span class="c1">// 指数价(只有contractMiniTicker 类型才存在字段)</span>
    <span class="s2">"v"</span><span class="p">:</span> <span class="s2">"10000"</span><span class="p">,</span>                <span class="c1">// 成交量</span>
    <span class="s2">"q"</span><span class="p">:</span> <span class="s2">"18"</span><span class="err">，</span>                  <span class="c1">// 成交额</span>

<span class="p">}</span>

</code></pre><h3 id='minitickertype'>miniTickerType类型说明</h3>
<ul>
<li>miniTickerType 支持的类型

<ul>
<li>spotMiniTicker</li>
<li>optionMiniTicker</li>
<li>contractMiniTicker</li>
</ul></li>
</ul>
<h2 id='symbol-ticker-2'>全市场所有Symbol的精简Ticker</h2>
<ul>
<li>按Symbol逐秒刷新的24小时精简全市场ticker信息</li>
</ul>
<h3 id='stream-lt-minitickertype-gt-arr'>Stream名称: !&lt;miniTickerType&gt;@arr</h3>
<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code>
<span class="p">[</span>
  <span class="p">{</span>
    <span class="c1">//数组每一个元素对应一个交易对，内容与 按Symbol的精简Ticker 相同</span>
  <span class="p">}</span>
<span class="p">]</span>
</code></pre><h3 id='minitickertype-2'>miniTickerType 类型说明</h3>
<ul>
<li>miniTickerType 支持的类型

<ul>
<li>spotMiniTicker</li>
<li>optionMiniTicker</li>
<li>contractMiniTicker</li>
</ul></li>
</ul>
<h2 id='symbol-ticker-3'>按Symbol的完整Ticker</h2>
<ul>
<li>按Symbol逐秒刷新的24小时完整ticker信息</li>
</ul>
<h3 id='stream-lt-symbol-gt-lt-tickertype-gt'>Stream 名称: &lt;symbol&gt;@&lt;tickerType&gt;</h3>
<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"e"</span><span class="p">:</span> <span class="s2">"24hrSpotTicker"</span><span class="p">,</span>  <span class="c1">// 事件类型</span>
  <span class="s2">"E"</span><span class="p">:</span> <span class="mi">123456789</span><span class="p">,</span>         <span class="c1">// 事件时间</span>
  <span class="s2">"s"</span><span class="p">:</span> <span class="s2">"JEXBTC"</span><span class="p">,</span>          <span class="c1">// 交易对</span>
  <span class="s2">"p"</span><span class="p">:</span> <span class="s2">"0.0015"</span><span class="p">,</span>          <span class="c1">// 24小时价格变化</span>
  <span class="s2">"P"</span><span class="p">:</span> <span class="s2">"250.00"</span><span class="p">,</span>          <span class="c1">// 24小时价格变化（百分比）</span>
  <span class="s2">"c"</span><span class="p">:</span> <span class="s2">"0.0025"</span><span class="p">,</span>          <span class="c1">// 最新成交价格</span>
  <span class="s2">"h"</span><span class="p">:</span> <span class="s2">"0.0025"</span><span class="p">,</span>          <span class="c1">// 24小时内最高成交价</span>
  <span class="s2">"l"</span><span class="p">:</span> <span class="s2">"0.0010"</span><span class="p">,</span>          <span class="c1">// 24小时内最低成交价</span>
  <span class="s2">"v"</span><span class="p">:</span> <span class="s2">"10000"</span><span class="p">,</span>           <span class="c1">// 24小时内成交量</span>
  <span class="s2">"q"</span><span class="p">:</span> <span class="s2">"18"</span><span class="p">,</span>              <span class="c1">// 24小时内成交额</span>
  <span class="s2">"m"</span><span class="p">:</span> <span class="s2">"10000"</span><span class="p">,</span>           <span class="c1">// 标记价(只有contractMiniTicker 类型才存在字段)</span>
  <span class="s2">"i"</span><span class="p">:</span> <span class="s2">"10000"</span><span class="p">,</span>           <span class="c1">// 指数价(只有contractMiniTicker 类型才存在字段)</span>
  <span class="s2">"O"</span><span class="p">:</span> <span class="mi">1234567890</span><span class="p">,</span>        <span class="c1">// TODO 0  统计开始时间</span>
  <span class="s2">"C"</span><span class="p">:</span> <span class="mi">86400000</span><span class="p">,</span>          <span class="c1">// TODO 3600*24*1000，24小时的毫秒数  统计关闭时间</span>
<span class="p">}</span>
</code></pre><h2 id='ticker'>全市场所有交易对的完整Ticker</h2>
<ul>
<li>同上，只是推送所有的交易对</li>
</ul>
<h3 id='stream-lt-tickertype-gt-arr'>Stream名称: !&lt;tickerType&gt;@arr</h3>
<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="c1">//数组每一个元素对应一个交易对，内容与 按Symbol的完整Ticker 相同</span>
  <span class="p">}</span>
<span class="p">]</span>
</code></pre>
<ul>
<li>tickerType 支持的类型

<ul>
<li>spotTicker</li>
<li>optionTicker</li>
<li>contractTicker</li>
</ul></li>
</ul>
<h2 id='6ae7c2b506'>有限档深度信息</h2>
<ul>
<li>每秒推送有限档深度信息。levels表示几档买卖单信息, 可选 5/10/20档</li>
</ul>
<h3 id='stream-lt-symbol-gt-lt-depthtype-gt-lt-levels-gt'>Stream 名称: &lt;symbol&gt;@&lt;depthType&gt;&lt;levels&gt;</h3>
<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"bids"</span><span class="p">:</span> <span class="p">[</span>             <span class="c1">// 买单</span>
    <span class="p">[</span>
      <span class="s2">"0.0024"</span><span class="p">,</span>         <span class="c1">// 价</span>
      <span class="s2">"10"</span><span class="p">,</span>             <span class="c1">// 量</span>
    <span class="p">]</span>
  <span class="p">],</span>
  <span class="s2">"asks"</span><span class="p">:</span> <span class="p">[</span>             <span class="c1">// 卖单</span>
    <span class="p">[</span>
      <span class="s2">"0.0026"</span><span class="p">,</span>         <span class="c1">// 价</span>
      <span class="s2">"100"</span><span class="p">,</span>            <span class="c1">// 量</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>depthType 支持的类型

<ul>
<li>spotDepth</li>
<li>optionDepth</li>
<li>contractDepth</li>
</ul></li>
<li>levels 支持的类型

<ul>
<li>5</li>
<li>10</li>
<li>20</li>
</ul></li>
</ul>
<h2 id='stream'>增量深度信息stream</h2>
<ul>
<li>每秒推送orderbook的变化部分（如果有）</li>
</ul>
<h3 id='stream-lt-symbol-gt-lt-depthtype-gt'>Stream 名称: &lt;symbol&gt;@&lt;depthType&gt;</h3>
<blockquote>
<p><strong>响应:</strong></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"e"</span><span class="p">:</span> <span class="s2">"spotDepthUpdate"</span><span class="p">,</span> <span class="c1">// 事件类型</span>
  <span class="s2">"s"</span><span class="p">:</span> <span class="s2">"JEXBTC"</span><span class="p">,</span>          <span class="c1">// 交易对</span>
  <span class="s2">"v"</span><span class="p">:</span> <span class="mi">157</span><span class="p">,</span>               <span class="c1">// 推送的版本号</span>
  <span class="s2">"b"</span><span class="p">:</span> <span class="p">[</span>                  <span class="c1">// 变动的买单深度</span>
    <span class="p">[</span>
      <span class="s2">"0.0024"</span><span class="p">,</span>          <span class="c1">// 价</span>
      <span class="s2">"10"</span><span class="p">,</span>              <span class="c1">// 量</span>
    <span class="p">]</span>
  <span class="p">],</span>
  <span class="s2">"a"</span><span class="p">:</span> <span class="p">[</span>                 <span class="c1">// 变动的卖单深度</span>
    <span class="p">[</span>
      <span class="s2">"0.0026"</span><span class="p">,</span>          <span class="c1">// 价</span>
      <span class="s2">"100"</span><span class="p">,</span>             <span class="c1">// 量</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>depthType 支持的类型

<ul>
<li>spotDepth</li>
<li>optionDepth</li>
<li>contractDepth</li>
</ul></li>
<li>增量深度推送的事件类型<br>

<ul>
<li>spotDepthUpdate</li>
<li>optionDepthUpdate</li>
<li>contractDepthUpdate</li>
</ul></li>
</ul>
<h1 id='1481b053b9'>错误代码汇总</h1>
<p>JEX Rest接口(包括wapi)返回的错误包含两部分，错误码与错误信息. 错误码是大类，一个错误码可能对应多个不同的错误信息。
以下是一个完整错误码实例
<code>javascript
{
  &quot;code&quot;:-1121,
  &quot;msg&quot;:&quot;Invalid symbol.&quot;
}
</code></p>
<h4 id='1'>-1</h4>
<ul>
<li>失败  fail
#### 0</li>
<li>成功  success
#### -5</li>
<li>ip非法调用  fail
#### -6</li>
<li>method非法调用  fail</li>
</ul>
<h2 id='10xx'>10xx - 服务器或网络问题</h2><h4 id='1000'>-1000 未知错误</h4>
<ul>
<li>未知错误</li>
</ul>
<h4 id='1001'>-1001 连接断开</h4>
<ul>
<li>通常是一个内部错误，一般重试即可解决。</li>
</ul>
<h4 id='1002'>-1002 未授权</h4>
<ul>
<li>请检查你的(API)权限</li>
</ul>
<h4 id='1003'>-1003 请求过多</h4>
<ul>
<li>请求过于频繁超过限制。如果导致了IP地址被封禁，错误消息中会给出解封时间。解决这类问题建议减少rest接口轮询，多采用websocket接收事务消息推送。</li>
</ul>
<h4 id='1006'>-1006 非常规响应</h4>
<ul>
<li>（从内部）接收到了不符合预设格式的消息，下单状态未知。</li>
</ul>
<h4 id='1007'>-1007 超时</h4>
<ul>
<li>后端服务超时，下单状态未知。</li>
</ul>
<h4 id='1014'>-1014 不支持的订单参数(组合)</h4>
<ul>
<li>不支持的订单参数组合. </li>
</ul>
<h4 id='1015'>-1015 订单太多</h4>
<ul>
<li>下单(撤单)太多</li>
</ul>
<h4 id='1016'>-1016 服务器下线</h4>
<ul>
<li>服务器下线</li>
</ul>
<h4 id='1020'>-1020 不支持的操作</h4>
<ul>
<li>不支持的操作</li>
</ul>
<h4 id='1021'>-1021 时间同步问题</h4>
<ul>
<li>时延过大，服务器根据接请求中的时间戳判定耗时已经超出了recevWindow。请改善网络条件或者增大recevWindow。</li>
<li>时间偏移过大，服务器根据请求中的时间戳判定客户端时间比服务器时间提前了1秒钟以上。(该参数不可由客户端调节)</li>
</ul>
<h4 id='1022'>-1022 签名不正确</h4>
<ul>
<li>请求中携带的signature与服务器根据规则计算得到的signature不一致。通常是因为客户端代码中使用的apisecret错误。</li>
</ul>
<h2 id='11xx'>11xx - 请求内容中的问题</h2><h4 id='1100'>-1100 非法字符</h4>
<ul>
<li>Illegal characters found in a parameter.</li>
<li>Illegal characters found in parameter &#39;%s&#39;; legal range is &#39;%s&#39;.</li>
<li>Illegal characters found in parameter &#39;%s&#39; value &#39;%s&#39;</li>
</ul>
<h4 id='1101'>-1101 参数太多</h4>
<ul>
<li>Too many parameters sent for this endpoint.</li>
<li>Too many parameters; expected &#39;%s&#39; and received &#39;%s&#39;.</li>
<li>Duplicate values for a parameter detected.</li>
</ul>
<h4 id='1102'>-1102 缺少必须参数</h4>
<ul>
<li>A mandatory parameter was not sent, was empty/null, or malformed.</li>
<li>Mandatory parameter &#39;%s&#39; was not sent, was empty/null, or malformed.</li>
<li>Param &#39;%s&#39; or &#39;%s&#39; must be sent, but both were empty/null!</li>
</ul>
<h4 id='1103'>-1103 无法识别的参数</h4>
<ul>
<li>An unknown parameter was sent.</li>
</ul>
<h4 id='1104'>-1104 冗余参数</h4>
<ul>
<li>Not all sent parameters were read.</li>
<li>Not all sent parameters were read; read &#39;%s&#39; parameter(s) but was sent &#39;%s&#39;.</li>
</ul>
<h4 id='1105'>-1105 空参数(仅有参数名)</h4>
<ul>
<li>A parameter was empty.</li>
<li>Parameter &#39;%s&#39; was empty.</li>
</ul>
<h4 id='1106'>-1106 非必需参数</h4>
<ul>
<li>A parameter was sent when not required.</li>
<li>Parameter &#39;%s&#39; sent when not required.</li>
</ul>
<h4 id='1111'>-1111 精度过高</h4>
<ul>
<li>Precision is over the maximum defined for this asset.</li>
</ul>
<h4 id='1112-orderbook'>-1112 空白的orderbook</h4>
<ul>
<li>No orders on book for symbol.</li>
</ul>
<h4 id='1114-tif'>-1114 错误地发送了不需要的TIF参数</h4>
<ul>
<li>TimeInForce parameter sent when not required.</li>
</ul>
<h4 id='1115-tif'>-1115 无效的TIF参数</h4>
<ul>
<li>Invalid timeInForce.</li>
</ul>
<h4 id='1116'>-1116 无效的订单类型</h4>
<ul>
<li>Invalid orderType.</li>
</ul>
<h4 id='1117'>-1117 无效的订单方向</h4>
<ul>
<li>Invalid side.</li>
</ul>
<h4 id='1118-newclientorderid'>-1118 空白的newClientOrderId</h4>
<ul>
<li>New client order ID was empty.</li>
</ul>
<h4 id='1119-originalclientorderid'>-1119 空白的originalClientOrderId</h4>
<ul>
<li>Original client order ID was empty.</li>
</ul>
<h4 id='1120-interval'>-1120 无效的间隔(interval)</h4>
<ul>
<li>Invalid interval.</li>
</ul>
<h4 id='1121'>-1121 无效的交易对</h4>
<ul>
<li>Invalid symbol.</li>
</ul>
<h4 id='1125-listenkey'>-1125 无效的listenKey</h4>
<ul>
<li>This listenKey does not exist.</li>
</ul>
<h4 id='1127'>-1127 开始结束时间错误</h4>
<ul>
<li>endTime befor startTime or  More than &#39;%s&#39; between startTime and endTime.</li>
<li>endTime befor startTime </li>
</ul>
<h4 id='1128'>-1128 无效的可选参数组合</h4>
<ul>
<li>Combination of optional parameters invalid.</li>
</ul>
<h4 id='1129'>-1129 下单小数位错误</h4>
<ul>
<li>error  scale  in parameter &#39;%s&#39;,should be  scale no more than &#39;%s&#39;</li>
</ul>
<h4 id='2010'>-2010 订单被拒绝</h4>
<ul>
<li>NEW_ORDER_REJECTED</li>
</ul>
<h4 id='2011'>-2011 订单取消被拒绝</h4>
<ul>
<li>CANCEL_REJECTED</li>
</ul>
<h4 id='2012'>-2012 不存在的订单</h4>
<ul>
<li>Order does not exist.</li>
</ul>
<h4 id='2013'>-2013 不存在的订单</h4>
<ul>
<li>Order does not exist.</li>
</ul>
<h4 id='2014-api-key'>-2014 API Key格式无效</h4>
<ul>
<li>API-key format invalid.</li>
</ul>
<h4 id='2015-api-key-key-ip'>-2015 API Key权限，例如该Key不存在、请求并非来自允许的IP范围、或者该接口对应权限未开放</h4>
<ul>
<li>Invalid API-key, IP, or permissions for action.</li>
</ul>
<h4 id='2016-no_trading_window'>-2016 NO_TRADING_WINDOW</h4>
<ul>
<li>No trading window could be found for the symbol. Try ticker/24hrs instead.
### -2019 ORDER_NUMBER_MAX 达到此订单类型的最大的当前委托</li>
<li>reach max order number</li>
</ul>
<h2 id='1010'>-1010 收到了错误消息</h2>
<p>这个错误代码是由撮合引擎抛出的，引擎还会抛出2010和2011，具体原因需要参考下面列出的具体消息</p>

<table><thead>
<tr>
<th>错误消息</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>&quot;Unknown order sent.&quot;</td>
<td>找不到订单， (根据请求里发送的 <code>orderId</code>, <code>clOrdId</code>, <code>origClOrdId</code>)</td>
</tr>
<tr>
<td>&quot;Duplicate order sent.&quot;</td>
<td>客户自定义的订单号重复了</td>
</tr>
<tr>
<td>&quot;Market is closed.&quot;</td>
<td>该交易对交易关闭了</td>
</tr>
<tr>
<td>&quot;Account has insufficient balance for requested action.&quot;</td>
<td>账户金额不足。</td>
</tr>
<tr>
<td>&quot;Market orders are not supported for this symbol.&quot;</td>
<td>该交易对无法发起市价单</td>
</tr>
<tr>
<td>&quot;Price * QTY is zero or less.&quot;</td>
<td>订单金额必须大于0</td>
</tr>
<tr>
<td>&quot;IcebergQty exceeds QTY.&quot;</td>
<td>冰山订单中小订单的Quantity必须小于总的Quantity</td>
</tr>
<tr>
<td>&quot;This action disabled is on this account.&quot;</td>
<td>账户被封禁，联系客服</td>
</tr>
<tr>
<td>&quot;Unsupported order combination&quot;</td>
<td><code>orderType</code>, <code>timeInForce</code>, <code>stopPrice</code>, 某些参数取某些值的时候另一些参数必须/不得提供。</td>
</tr>
<tr>
<td>&quot;Cancel order is invalid. Check origClOrdId and orderId.&quot;</td>
<td>撤销订单必须提供<code>origClOrdId</code>或者<code>orderId</code>中的一个。</td>
</tr>
<tr>
<td>&quot;Order would immediately match and take.&quot;</td>
<td><code>LIMIT_MAKER</code> 订单如果按照规则会成为Taker，就会报此错。</td>
</tr>
</tbody></table>
<h4 id='6000'>-6000</h4>
<ul>
<li>禁止交易  user prohibit trade</li>
</ul>
<h4 id='7001'>-7001</h4>
<ul>
<li>转移保证金失败  Transfer margin error.</li>
</ul>
<h4 id='7002'>-7002</h4>
<ul>
<li>调整杠杆失败  Set leverage error.</li>
</ul>
<h4 id='7003'>-7003</h4>
<ul>
<li>设置风险值失败  Set risk limit error.</li>
</ul>
<h4 id='7004'>-7004</h4>
<ul>
<li>下单失败 Please try it later.</li>
</ul>
<h4 id='7005'>-7005</h4>
<ul>
<li>撤单失败  Cancel error, Please try it later.</li>
</ul>
<h4 id='7006'>-7006</h4>
<ul>
<li>超过风险限额  Over risk.</li>
</ul>
<h4 id='7007'>-7007</h4>
<ul>
<li>可用资产不足  asset not enough</li>
</ul>
<h4 id='7008'>-7008</h4>
<ul>
<li>可用保证金不足  margin not enough</li>
</ul>
<h4 id='7009'>-7009</h4>
<ul>
<li>发行数量已达到平台风控限额  system asset not enough</li>
</ul>
<h4 id='7010'>-7010</h4>
<ul>
<li>杠杆过大  Contract leverage too large</li>
</ul>
<h4 id='7011'>-7011</h4>
<ul>
<li>杠杆过小  Contract leverage too small</li>
</ul>
<h4 id='7012'>-7012</h4>
<ul>
<li>期权不存在  option not exist</li>
</ul>
<h4 id='7013'>-7013</h4>
<ul>
<li>期权行权时间已过  passed option exercise time</li>
</ul>
<h4 id='7014'>-7014</h4>
<ul>
<li>无可赎回期权,请先发行期权  no release option</li>
</ul>
<h4 id='7015'>-7015</h4>
<ul>
<li>赎回数量大于可赎数量   back amount greater than release amount</li>
</ul>
<h4 id='7016'>-7016</h4>
<ul>
<li>保证金冻结异常，请联系客服  margin anomaly</li>
</ul>
<h4 id='7017'>-7017</h4>
<ul>
<li>杠杆过大  Contract leverage too large,must smaller than 100</li>
</ul>
<h4 id='7018'>-7018</h4>
<ul>
<li>杠杆过小  Contract leverage too small,must larger than 1</li>
</ul>
<h4 id='7019'>-7019</h4>
<ul>
<li>平仓失败  Liquidation fail</li>
</ul>
<h4 id='7020'>-7020</h4>
<ul>
<li>仓位不存在  Contract position not exists</li>
</ul>
<h2 id='8xxx'>-8xxx 提现错误</h2><h4 id='8000'>-8000</h4>
<ul>
<li>提现数量错误  withdraw amount error</li>
</ul>
<h4 id='8001'>-8001</h4>
<ul>
<li>禁止提现  withdraw is forbidden</li>
</ul>
<h4 id='8002'>-8002</h4>
<ul>
<li>提现费率错误  withdraw fee error</li>
</ul>
<h4 id='8003'>-8003</h4>
<ul>
<li>提现地址错误  withdraw address error</li>
</ul>
<h4 id='8004'>-8004</h4>
<ul>
<li>资产不足  your balance is not enough</li>
</ul>
<h4 id='8005'>-8005</h4>
<ul>
<li>超过提币额度  withdraw day amount is limited</li>
</ul>
<h4 id='8006'>-8006</h4>
<ul>
<li>资产错误或资产不支持提现  withdraw asset error</li>
</ul>
<h2 id='9xxx'>-9xxx 订单未能通过过滤器</h2>
<table><thead>
<tr>
<th>错误信息</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>&quot;Filter failure: PRICE_FILTER&quot;</td>
<td>检查价格的上限、下限、步进间隔。</td>
</tr>
<tr>
<td>&quot;Filter failure: PERCENT_PRICE&quot;</td>
<td>检查订单中价格是否相对于过去N分钟的平均价格变动超过了百分之X。</td>
</tr>
<tr>
<td>&quot;Filter failure: LOT_SIZE&quot;</td>
<td>检查订单中数量的上限、下线、步进间隔。</td>
</tr>
<tr>
<td>&quot;Filter failure: MIN_NOTIONAL&quot;</td>
<td><code>price</code> * <code>quantity</code>，也就是订单金额，是否超过了最小值。</td>
</tr>
<tr>
<td>&quot;Filter failure: MARKET_LOT_SIZE&quot;</td>
<td>与LOT_SIZE含义一致，只是对市价单生效。</td>
</tr>
<tr>
<td>&quot;Filter failure: MAX_NUM_ORDERS&quot;</td>
<td>账户在该交易对下最多挂单数。</td>
</tr>
<tr>
<td>&quot;Filter failure: EXCHANGE_MAX_NUM_ORDERS&quot;</td>
<td>账户在全交易所最多的挂单数。</td>
</tr>
</tbody></table>
<h3 id='9000'>-9000 下单被拒</h3>
<ul>
<li>下单被拒  校验参数</li>
</ul>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>

  <script>
  const page = ["spot","option","future","testnet"];
  const pageObject = {
    "spot" : {
      "text": "Spot",
      "url": "/spot",
    },
    "option" :{
      "text": "Option",
      "url": "/options",
    },
    "future" : {
      "text": "Futures",
      "url": "/futures",
    },
    "testnet" : {
      "text": "Futures Testnet",
      "url": "https://testnet.jexzh.com/",
    },
  }
  const htmlItem = location.href.split("/").find(item=>item.indexOf(".html") >= 0) || "future_CN.html";
  page.forEach((item,index)=>{
    if(htmlItem.indexOf(item) >= 0){
      document.querySelectorAll("#data-nav li a")[index].className = "current";
    }
  })

  if (htmlItem) {
    const currentPage = htmlItem.split("_")[0];
    if (htmlItem.indexOf("_CN") > 0) {
      const arr = location.href.split("/");
      arr.splice(-1, 1, htmlItem.replace("_CN.html", ".html"))
      const url = arr.join("/");
      document.querySelector("#language").href = url;
      document.querySelectorAll("#data-nav li a span.chinese").forEach(item => {
        item.style = "display:block"
      })
      document.querySelector("#language .chinese").style = "display:block;"
      document.querySelectorAll(".toc-footer li a")[0].href = currentPage !== "testnet" ? "https://www.jexzh.com" + "/cn" + pageObject[currentPage]
        .url : pageObject[currentPage].url + "/cn";
      document.querySelectorAll(".toc-footer li a")[0].text = "Binance jex" + pageObject[currentPage].text;
    } else {
      document.querySelector("#language").href = location.href.replace(".html", "_CN.html");
      document.querySelectorAll("#data-nav li a").forEach(item => {
        item.href = item.href.replace("_CN.html", ".html");
      })
      document.querySelectorAll("#data-nav li a span.english").forEach(item => {
        item.style = "display:block"
      })
      document.querySelector("#language .english").style = "display:block;"
      document.querySelectorAll(".toc-footer li a")[0].href = currentPage !== "testnet" ? "https://www.jexzh.com" + "/en" + pageObject[currentPage]
        .url : pageObject[currentPage].url + "/en";
      document.querySelectorAll(".toc-footer li a")[0].text = "Binance jex" + pageObject[currentPage].text;
    }
  }
  </script>
</html>

